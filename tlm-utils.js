"use strict";var path=require("path");Language.addTranslations("en",{"info.tlm_utils.title":"Touhou Little Maid Mod Blockbench Plugin","info.tlm_utils.description":"A plugin design for touhou little maid mod","menu.tlm_utils":"TLM","local.tlm_utils.name":"en_us","button.tlm_utils.warning":"Warning","button.tlm_utils.confirm":"Confirm","button.tlm_utils.cancel":"Cancel","button.tlm_utils.new_maid_list":"New Maid List","button.tlm_utils.new_chair_list":"New Chair List","button.tlm_utils.new_model":"New Model","menu.tlm_utils.create_new_model":"Create New Workspace","dialog.tlm_utils.create_new_model.choose_type":"Choose Create Type","dialog.tlm_utils.create_new_model.choose_type.maid":"Maid","dialog.tlm_utils.create_new_model.choose_type.chair":"Chair","dialog.tlm_utils.create_new_model.maid.title":"Select what you want to create","dialog.tlm_utils.create_new_model.maid.default":"Default","dialog.tlm_utils.create_new_model.maid.little_maid_sr2":"SR2","menu.tlm_utils.create_new_pack":"Create New Model Pack","dialog.tlm_utils.create_new_pack.title":"Set parameters for model pack","dialog.tlm_utils.create_new_pack.pack_id":"Model Pack ID","dialog.tlm_utils.create_new_pack.pack_id.desc":"At least 6 char, only lowercase English characters & underscores are supported","dialog.tlm_utils.create_new_pack.pack_id.warn.empty.desc":"Please enter the model pack id, id is required!","dialog.tlm_utils.create_new_pack.pack_id.warn.length.desc":"To avoid conflicts, the model pack id must be at least 6 char!","dialog.tlm_utils.create_new_pack.pack_id.warn.invalid.desc":"Only lowercase English characters & underscores are supported","dialog.tlm_utils.create_new_pack.pack_version":"Model Pack Version","dialog.tlm_utils.create_new_pack.pack_version.desc":"Set the version number of the model pack","dialog.tlm_utils.create_new_pack.pack_icon":"Model Pack Icon","dialog.tlm_utils.create_new_pack.pack_icon.desc":"Choose an icon for the model pack","dialog.tlm_utils.create_new_pack.create":"Complete Setup","dialog.tlm_utils.create_new_pack.directory":"Select the model pack path","dialog.tlm_utils.create_new_pack.success.title":"Successfully created!","dialog.tlm_utils.create_new_pack.success.desc":"Model pack has been placed in %0","menu.tlm_utils.load_pack":"Load Model Pack","dialog.tlm_utils.load_pack.title":"Select model pack folder","dialog.tlm_utils.load_pack.warn.pack_mcmeta_not_file":"The selected folder is not a model pack, pack.mcmeta should be a file!","dialog.tlm_utils.load_pack.warn.pack_mcmeta_not_exist":"The selected folder is not a model pack, pack.mcmeta file is missing!","dialog.tlm_utils.load_pack.warn.assets_not_folder":"The selected folder is not a model pack, assets should be a folder!","dialog.tlm_utils.load_pack.warn.assets_not_exist":"The selected folder is not a model pack, assets folder is missing!","dialog.tlm_utils.load_pack.warn.namespace_not_exist":"The selected folder is not a model pack, namespace folder is missing!","dialog.tlm_utils.load_pack.detail":"Loaded pack info","dialog.tlm_utils.load_pack.detail.edit_list_info":"Edit List Info","dialog.tlm_utils.load_pack.detail.model_list.add":"Add Model","dialog.tlm_utils.load_pack.edit.pack_name":"Model Pack Name","dialog.tlm_utils.load_pack.edit.pack_name.desc":"You can enter any characters","dialog.tlm_utils.load_pack.edit.icon":"Model Pack Icon","dialog.tlm_utils.load_pack.edit.icon.desc":"Without this, the model pack will have no icon","dialog.tlm_utils.load_pack.edit.version":"Model Pack Version","dialog.tlm_utils.load_pack.edit.version.desc":"Set the version number of the model pack","dialog.tlm_utils.load_pack.edit.date":"Model Pack Date","dialog.tlm_utils.load_pack.edit.date.desc":"Date creation for model pack","dialog.tlm_utils.load_pack.edit.author":"Author List","dialog.tlm_utils.load_pack.edit.author.desc":"Click the bottom button to add author","dialog.tlm_utils.load_pack.edit.description":"Model Pack Description","dialog.tlm_utils.load_pack.edit.description.desc":"You can enter any characters","menu.tlm_utils.load_pack.delete":"Delete Selected Pack","menu.tlm_utils.load_pack.new":"New Sub Model Pack","menu.tlm_utils.load_pack.open_folder":"Open Selected Pack","dialog.tlm_utils.load_pack.delete.desc":"Please note! This will directly delete an entire selected model pack!","dialog.tlm_utils.load_pack.delete.tip":"You can find the deleted model pack in the recycle bin.","dialog.tlm_utils.load_pack.new_sub_pack.warn.duplicate":"Model pack ID is duplicate","dialog.tlm_utils.load_pack.new_list":"New Model List","dialog.tlm_utils.load_pack.new_list.desc":"You will create a new model list","dialog.tlm_utils.load_pack.list.delete":"Delete selected model list?","dialog.tlm_utils.load_pack.list.delete.desc":"Please note! This will directly delete an entire selected model list!","dialog.tlm_utils.load_pack.list.sort.move":"Move model order","dialog.tlm_utils.load_pack.list.normal_egg":"This is a normal naming easter egg model.\nThe model will only be displayed when the maid is named by this tag.","dialog.tlm_utils.load_pack.list.encrypt_egg":"This is a encrypt naming easter egg model.\nThe model will only be displayed when the maid's name has the same SHA-1 with this tag.","model.tlm_utils.maid.head":"Head","model.tlm_utils.maid.blink":"Blink","model.tlm_utils.maid.body":"Body","model.tlm_utils.maid.arm_left":"Left Arm","model.tlm_utils.maid.arm_right":"Right Arm","model.tlm_utils.maid.leg_left":"Left Leg","model.tlm_utils.maid.leg_right":"Right Leg","model.tlm_utils.maid.wing_left":"Left Wing","model.tlm_utils.maid.wing_right":"Right Wing","model.tlm_utils.maid.tail":"Tail","model.tlm_utils.maid.ahoge":"Ahoge","message.tlm_utils.prompt":"Prompt"}),Language.addTranslations("zh",{"info.tlm_utils.title":"车万女仆模组插件","info.tlm_utils.description":"专门为车万女仆模组制作模型包所设计的插件"});var TLM_name="tlm-utils",TLM_version="2.0.0",TLM_author="tartaric_acid",defaultMaidModel={format_version:"1.10.0","geometry.model":{texturewidth:128,textureheight:128,visible_bounds_width:3,visible_bounds_height:2,visible_bounds_offset:[0,0,0],bones:[{name:"head",pivot:[0,18,0],cubes:[{origin:[-4,18,-4],size:[8,8,8],uv:[0,0]}]},{name:"ahoge",parent:"head",pivot:[0,26,0],cubes:[{origin:[-3,26,0],size:[6,6,0],uv:[0,0]}]},{name:"blink",parent:"head",pivot:[0,18,0],cubes:[{origin:[-4,18,-4.001],size:[8,8,0],uv:[44,28]}]},{name:"armRight",pivot:[-3,17.5,0],rotation:[0,0,25],cubes:[{origin:[-5,8.5,-1],size:[2,8,2],uv:[32,40]},{origin:[-5.5,13.5,-1.5],size:[3,4,3],uv:[12,46]}]},{name:"armLeft",pivot:[3,17.5,0],rotation:[0,0,-25],cubes:[{origin:[2.5,13.5,-1.5],size:[3,4,3],uv:[12,40]},{origin:[3,8.5,-1],size:[2,8,2],uv:[24,40]}]},{name:"body",pivot:[0,10.5,0],cubes:[{origin:[-3,8.999,-3],size:[6,9,6],uv:[56,16]}]},{name:"sittingRotationSkirt",parent:"body",pivot:[0,10.5,0],cubes:[{origin:[-4.5,6,-4.5],size:[9,2,9],uv:[32,0]},{origin:[-4,8,-4],size:[8,2,8],uv:[68,0]},{origin:[-3.5,10,-3.5],size:[7,2,7],uv:[28,16]}]},{name:"legLeft",pivot:[2,9,0],cubes:[{origin:[.499,0,-1.5],size:[3,9,3],uv:[0,40]}]},{name:"legRight",pivot:[-2,9,0],cubes:[{origin:[-3.499,0,-1.5],size:[3,9,3],uv:[60,28]}]},{name:"wingLeft",pivot:[.5,15,3.25],rotation:[0,60,0],cubes:[{origin:[.5,3,3.5],size:[0,24,13],uv:[0,0]}]},{name:"wingRight",pivot:[-.5,15,3.75],rotation:[0,-60,0],cubes:[{origin:[-.5,3,3.5],size:[0,24,13],uv:[0,0]}]},{name:"tail",pivot:[0,8,4],rotation:[20,0,0],cubes:[{origin:[-1,7,4],size:[2,2,3],uv:[0,0]}]}]}},sr2MaidModel={format_version:"1.10.0","geometry.model":{texturewidth:64,textureheight:32,visible_bounds_width:2,visible_bounds_height:2.5,visible_bounds_offset:[0,.75,0],bones:[{name:"head",pivot:[0,16,0],cubes:[{origin:[-4,16,-4],size:[8,8,8],uv:[0,0]},{origin:[-4,12,1],size:[8,4,3],uv:[24,0]},{origin:[-5,20,.2],size:[1,3,3],uv:[24,18]},{origin:[4,20,.2],size:[1,3,3],uv:[24,18]},{origin:[-2,19.2,4],size:[4,4,2],uv:[52,10]},{origin:[-1.5,13.8,4],size:[3,9,3],uv:[46,20]},{origin:[-5.5,14.8,.9],size:[1,8,2],uv:[58,21]},{origin:[4.5,14.8,.9],size:[1,8,2],uv:[58,21],mirror:!0}]},{name:"blink",parent:"head",pivot:[0,16,0],cubes:[{origin:[0,17,-4.001],size:[4,4,0],uv:[42,19],inflate:.001},{origin:[-4,17,-4.001],size:[4,4,0],uv:[32,19],inflate:.001}]},{name:"body",pivot:[0,16,0],cubes:[{origin:[-3,9,-2],size:[6,7,4],uv:[32,8]}]},{name:"sittingRotationSkirt",parent:"body",pivot:[0,11,0]},{name:"skirt",parent:"sittingRotationSkirt",pivot:[0,9,0],cubes:[{origin:[-4,3,-4],size:[8,8,8],uv:[0,16]}]},{name:"armLeft",pivot:[3,15,0],rotation:[0,0,-25],cubes:[{origin:[2.78869,7.54685,-1],size:[2,8,2],uv:[56,0]}]},{name:"armRight",pivot:[-3,15,0],rotation:[0,0,25],cubes:[{origin:[-4.78869,7.54685,-1],size:[2,8,2],uv:[48,0]}]},{name:"legLeft",pivot:[1,9,0],cubes:[{origin:[0,0,-2],size:[3,9,4],uv:[32,19],mirror:!0}]},{name:"legRight",pivot:[-1,9,0],cubes:[{origin:[-3,0,-2],size:[3,9,4],uv:[32,19]}]},{name:"backpackPositioningBone",pivot:[0,15,0]}]}},script={name:"maid_model_choose",data:()=>({imgMaid:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1MDZiY2E1NS1kNzkwLTU3NGYtYTYxMC0wNWRmNzU5NDIzZTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEYzQjdGNkM0ODYzMTFFQzk0RjJEMUQyQTA0MjJGQzMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEYzQjdGNkI0ODYzMTFFQzk0RjJEMUQyQTA0MjJGQzMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmY1Y2JiN2JjLWE4MGYtODU0Ni1iMGE1LTZlMTI0ZTY0ZTAwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MDZiY2E1NS1kNzkwLTU3NGYtYTYxMC0wNWRmNzU5NDIzZTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5dFn24AAABVlBMVEUjEQyaMTGTLy8vFxB3JiY2IBarq7HFvrWPLS0bBwdIKh68vMKGHStNDikkCQlEKxnLzNJnFyGnTTw7HRSSLi6+rqGUjohbOSGGKip/HClfFR+0rqawUT+oq7pnEzZtFDmHPjHExcuXmJyRLi5UECy7nJKoTTwAAAC6u8GPgnmnqrm4m2l8GyiHiZaMdW62t7wtCwuYnbwVAgm2ucmjprSen6SjSztoEzdlEzWAHCkQAgeNka6wssJ+HCjMzMx9QlIwJEeZmZmJjalpbIJ9f4uMkK23Ojq5ub9wFTufMzO0OTnIysxMLR+2o6hDDSMhEAtaNSV9Oi06Ihj///8tFg+7vMhnISEaAwufIzODg4dTEhtbXnGLHix1d4IyGBHRYEvNztSBGETl5u2AfHarkGKOkJ1yRykmEw2eeVWeIzN/f3+tNzdoaXOAgIC1OjrPX0pfHh7///9ErOuxAAAAcnRSTlP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wB818voAAAGc0lEQVR42uzb+VfaShQHcBLZdyNRQUFRoimySLWtdUGtilqxllr79LVare3r+pb8/7+8O3eSkCBWApnwC/ccQvQc+X5yM5kMcHQpfS7XADAADAADwAAwAAwAA8AAMAAMAN3+4adPn/oLCPEvX/YTEArxvC1N6AUQCtnQhN4AcBoeIjxhB0iDgf8dAYShJ8wAPJ9O85rg9PS01Ud0DAEhBMzN8Xz19PQjVI0UdfA0mm5DjAFzfLUqCEIiUa2ebm9v81pRAO8AYE4HGPNJdLqzc9ALgOeNHTAAwJVOMwespUegFqvVRCKRNADmsBgDSPRrqJFFKMhPJh0BjKi1uKhtRkb+glok+9VteGoDCNkHGIKKRofw6P8gRQ6fMl5jO6BcLtcc9oECeBaAoaFgMEqjEaH1xaWWOhA7PQddAvB5sSW6BbDGHDA01JKtAZ7DY23NdgDJfPzYBGjJ9nhg8xyKMWBsrFPAcxgJ6S82AcbuBWBuC+AZANZgz07AWCsAtoGACRCDzTO1moAvtgKCweB9AA8CNswA+5ZkRsBj7EQTEEADBRQ0gN1rwjEyCEwA+E0s1gKAvY1nG0wWpdh4STIBxkyAWMwTgL3CBlMAzgN3AJANx68DNlgDJEmK6oBAILBqAhTYAIJkApxvAqJRBAQCJkAsFitYaoE1wDyUeA+AjgEEFNgCxGBQnDcBSqs4FlTAU0stsASYP9YBUBTw6NGjkg5wrVJAgRngeGvLJ5I9UvDs8RgBHgoAgX92lh3A1xYQIBeACvD7ATDLYgxQANTW1pYOKAEApgIN4HmqCuwGkMn/6GhTBxwf3wUEYEcHzLIBbLYDeBAAcxIB+C21oEvA5qYBQI69HWDWXgAIoiR5kwI2j45UQEAFwHWwigBLLbAKUAsBMCV6XO0AfgstsAS48hkEACCLwjuAAgH4/Z22wBrg5KRJ8LUBvHWRm6FfrY5aYAGQvQJAXpZ1gRkwMTEBAFegsOJvCuwFZE8uLuKyLF9f3wH4Jki9BYCysmJJYAlwAYAMAVzn83kdEBFFA4AI/BZOgkVAnADka1kGwS8ERCIAgHZQgctyCzoHcBx38Q4AIPibAH4l2wI8iqkF+/t2At4hQJC/QRd+JJNXV1+/fkWAqAJ+ej0IWPHTa6FcthXwDgBLABC+fZN/JJLJbHZmZiaitiAe93p/er1eABABAsoEsG8TIH52BvkVBCwsLHw2AeKkvFgxDVBYXl4uP9yCTgGHZ2dnl5fxSiWZRMBCQhA0wNKSAeBVqODFCw2wbyOgggCSv/D5PgARQPwLIig/3IIOAYeH9frl5Uml8t4A4Di3290WoFBAGQE2nYJ6/QTym4AFFZBKtQK8FEDPQLls11VAAe8BkEioLbgPgILlZRTYOBXXTw4O3lMAliCsrxeLxXsACgLsvR0fHBy8IpXQSgdUWgBeCrD9Syua/0qSRDOgcgfgZfWtmXh7e3sDAKjfAsZZAZRbJZM5PxexEvX6mzdvUqUSAMgwMOSPj7MCKACAYVirEQECSgSwZAKMMwScnyMgAYSaCri5aQFYyrcKCIe5Wo1eiMnzc0mC+EgEAYeHJBjTreRbBIQBwE1+/IiAZCZzQ+6FkcrBhw8fKGCcOQCWJZOTHLQBARkEwARhAlh6yS4BUDUV8M+/KuA/Gj8x4RCA42BEfv8OtwOYIf+kRRdmjAGTOiAcTg0PA2B6Gh6vpptrUwcAiDACYKMBXMw7wN0HIIvjtxYv7J4BwzrA7YafrE6svQDCTcC0Q4CwBphsD3CzB3AtgKQOwHIMwJkAbh2QyzkFUKcBE6DoEEAvM2Cm6ABgagqTs1kjAAcBvEVyBkCys9ns+roJAMdPADMzuVyEOQCyKWDKCAABeeSst6AbAMchYGoqEtEARYoYZguAyHAYAaQoAEdhsVikswBzQFi/DrJZHaAOQBQwPgWKGQDLoUwmlzMCFLZXgfpZFeabAOpEuKs4AKCEcLgJyNFxuAvlDEDx4X3ADNjZ6Sq+S4BPJPkGwA6UojgJECUDYBfiR0cdBMhyXoR3ZVORfD6fycCph3inAfk9qVSSAJCH/NFRhwECAezt7EiSJOZ3faPOAwQBAXvksxJffwCCQAB7e/0BUEKjAQDyxUk/AITQaAgEIMs0P+UwQFEaOBZUQCrlPEAdCwSQSvUHoBIaje7je/8fEwro4QUG/2UzAPQd8L8AAwAPMgXuEP0EEwAAAABJRU5ErkJggg==",imgChair:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1MDZiY2E1NS1kNzkwLTU3NGYtYTYxMC0wNWRmNzU5NDIzZTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUE1OTFFOTc0ODYzMTFFQzhBNERCMzJGMzc1MUQ2MjkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUE1OTFFOTY0ODYzMTFFQzhBNERCMzJGMzc1MUQ2MjkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjMxMTZlOTI0LTI0NWQtZmM0YS05NTcyLTYyMzRjZjBkYjNhYSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MDZiY2E1NS1kNzkwLTU3NGYtYTYxMC0wNWRmNzU5NDIzZTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz56vJllAAAA7VBMVEWEfW2wppKselXc0LbXmGjXmWqqd1CtfFereVKselSqdk6se1areFLVlGLXmmvZnXCselPWlmWCX0TWl2ZiXFOAWj3Wl2eCe2+tfFbXmWmBXEDVlWSAWTvXl2fWlmbYm23VlWPYnG7WlWSqdk/ZnG6tfViBWz7XmGnVlGPWlmfYmmyCXkJ/VTaqckqtfVfWlWXYmmute1bZnnHVk2KqdEupckrWmGiqdU3Rxq1/Vziqc0qBXEGjmourd1DUkmB/WDrZn3KreFHXmmzaoXXWmGnZnW/UkmHVk2HUkl/YmmrYm2zUj1zXm2zVlWX///9i2FHUAAAAT3RSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////8APVawswAAA8FJREFUeNrs2tlS4kAUBuBO6CRCAjJsAkEdw6KC+4KouM8wLjN5/8eZc05CojVOFUlI58L+LxSpkv9Lp7vBLpmbcZgESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESECyXx8OswV0u2NMloCbm3z+OyZLQN4wDjjnmiYeoAeAgwP4vosRC9ALBSsElMuq2mhokYZiCQDLajZDAKaEEQswDGMlBIClUhECsKyrqwCAyQJwfn7eDQDHx8dGFoAuVAYAwzDNfKcjBFAoqAGABmEOMMUBVCicA/p90/QAHbGAclkPACZMQgSMhABw2nsAXJDvAKOROIBpzgGFs7P9TACmDzgDwP7+hUiA6/oAuOz+HHBxsbIyumaCAK6iKD6g32wGgGuhAMZcH9CEvQj7xQMgc4BlqdkAMD5AVe/usgHgwsgaQCsjY8Cnz0nAVwMwCVj4dZOfD3xlQKsFXyaTjAANSAv+Dp1MWBYADvkN0fABcwUDihB+CGlhkNASCTiF7GC+YTj1t1pazI0wKuAn5g9kewNyBILDQ07HM1p4IpAaYOsEsorZhmhHkFW8E2MSlEolztMEbGGGkF/4YBOuWWuApdcbj8eb9CPMSNu2cWVOlg74gRlSPeRtE/KKC9HpQTjHn8EA42LbMEMnbMkAOgjEc58qTvv1N8jzK2TLcRzbhhvgOADgHACcF4uXl4v3LwbQdSJUMeuQ6jPExjtxcgKDfnoKEFwQMC85H1ymAdB1Wm+08sgBV27bVZqVsCxnM3ge18VGZzCI1L84QFU5TTQcARhyx9lBxwuuicfH2Wx2ewv17Q4CovQvOgkRAKGjUBoL2oqKL5DeI0S7hbTbCGAsDQB92FdVXd/Fuc9xGNZxRy7iKujR0AwGCIhYHwGgKAQoFBrencBtyCPQ1lSvIyByfcStmAAQ3PVKR/cQIhT39vYQEKM++psRCXS9VIJRuL9/ghTbbQLEqo/xbqgQQLfoRmhPT/U6AWLWxwEoDAWWRYRKnQAsdn8sAGMEeHioVAjAmHAAYyGAMfGAXC4HhQTAZt8kBJDDbkXBb2Cheu/zhxBALuddOjQSIed98BEFmNd7AJ/gfgR4T6QEUPx6/6JDQgAISKkAph8H+h1hDvBGaJoSYG1tOq19uM8BIQTg11pqgLVa7d+jAT8sjEhASAjq12rpTcLPXxvvQgAQshP+f3UK2oqXW58QENbHf5kkACV5fUJAojeB5IDpdKokrU8EwJ0h+SlfQkAta4CbJcB1l9Av/5lNAiRAAty/AgwAI2bpOtbigukAAAAASUVORK5CYII="}),methods:{tl:tl,createEmptyWorkspace:function(){createDefaultDialog.hide(),newProject(Formats.bedrock_old)},openDefaultMaidModelDialog:function(){createDefaultDialog.hide(),defaultMaidModelDialog.show()}}};var normalizeComponent_1=function(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){"boolean"!=typeof shadowMode&&(createInjectorSSR=createInjector,createInjector=shadowMode,shadowMode=!1);var hook,options="function"==typeof script?script.options:script;if(template&&template.render&&(options.render=template.render,options.staticRenderFns=template.staticRenderFns,options._compiled=!0,isFunctionalTemplate&&(options.functional=!0)),scopeId&&(options._scopeId=scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),style&&style.call(this,createInjectorSSR(context)),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):style&&(hook=shadowMode?function(){style.call(this,createInjectorShadow(this.$root.$options.shadowRoot))}:function(context){style.call(this,createInjector(context))}),hook)if(options.functional){var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return script},isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var HEAD=document.head||document.getElementsByTagName("head")[0],styles={};var browser=function(context){return function(id,style){return function(id,css){var group=isOldIE?css.media||"default":id,style=styles[group]||(styles[group]={ids:new Set,styles:[]});if(!style.ids.has(id)){style.ids.add(id);var code=css.source;if(css.map&&(code+="\n/*# sourceURL="+css.map.sources[0]+" */",code+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(css.map))))+" */"),style.element||(style.element=document.createElement("style"),style.element.type="text/css",css.media&&style.element.setAttribute("media",css.media),HEAD.appendChild(style.element)),"styleSheet"in style.element)style.styles.push(code),style.element.styleSheet.cssText=style.styles.filter(Boolean).join("\n");else{var index=style.ids.size-1,textNode=document.createTextNode(code),nodes=style.element.childNodes;nodes[index]&&style.element.removeChild(nodes[index]),nodes.length?style.element.insertBefore(textNode,nodes[index]):style.element.appendChild(textNode)}}}(id,style)}};const __vue_script__=script;var __vue_render__=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h1",{staticStyle:{"text-align":"center"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_model.choose_type")))]),_vm._v(" "),_c("ul",{staticStyle:{display:"grid","max-height":"465px",padding:"5px","overflow-y":"auto","grid-template-columns":"repeat(auto-fit, minmax(100px, 1fr))","grid-gap":"5px"}},[_c("li",{style:{"background-color":"#17191d",cursor:"pointer","text-align":"center"}},[_c("button",{staticStyle:{width:"100%",height:"100%"},on:{click:_vm.openDefaultMaidModelDialog}},[_c("img",{attrs:{src:_vm.imgMaid,alt:"",width:"200px"}}),_vm._v(" "),_c("h2",{staticStyle:{margin:"10px"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_model.choose_type.maid")))])])]),_vm._v(" "),_c("li",{style:{"background-color":"#17191d",cursor:"pointer","text-align":"center"}},[_c("button",{staticStyle:{width:"100%",height:"100%"},on:{click:_vm.createEmptyWorkspace}},[_c("img",{attrs:{src:_vm.imgChair,alt:"",width:"200px"}}),_vm._v(" "),_c("h2",{staticStyle:{margin:"10px"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_model.choose_type.chair")))])])])])])};__vue_render__._withStripped=!0;const __vue_component__=normalizeComponent_1({render:__vue_render__,staticRenderFns:[]},(function(inject){inject&&inject("data-v-353e3bcd_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"maid_model.vue"},media:void 0})}),__vue_script__,"data-v-353e3bcd",false,undefined,!1,browser,void 0,void 0);var createDefaultAction=new Action("tlm_utils.create_new_model",{name:"menu.tlm_utils.create_new_model",icon:"fa-file-alt",click:function(){createDefaultDialog.show()}}),createDefaultDialog=new Dialog("create_new_model",{title:"menu.tlm_utils.create_new_model",width:800,singleButton:!0,component:__vue_component__}),defaultMaidModelDialog=new Dialog({title:"dialog.tlm_utils.create_new_model.maid.title",sidebar:{pages:{default:tl("dialog.tlm_utils.create_new_model.maid.default"),sr2:tl("dialog.tlm_utils.create_new_model.maid.little_maid_sr2")},page:"default",onPageSwitch(page){if("sr2"===page){sr2MaidModelDialog.show();for(let k in sr2MaidModelDialog.sidebar.page_menu){sr2MaidModelDialog.sidebar.page_menu[k].classList.toggle("selected",k===page)}}}},form:{head:{label:"model.tlm_utils.maid.head",type:"checkbox",value:!0},blink:{label:"model.tlm_utils.maid.blink",type:"checkbox",value:!0},body:{label:"model.tlm_utils.maid.body",type:"checkbox",value:!0},armLeft:{label:"model.tlm_utils.maid.arm_left",type:"checkbox",value:!0},armRight:{label:"model.tlm_utils.maid.arm_right",type:"checkbox",value:!0},legLeft:{label:"model.tlm_utils.maid.leg_left",type:"checkbox",value:!0},legRight:{label:"model.tlm_utils.maid.leg_right",type:"checkbox",value:!0},wingLeft:{label:"model.tlm_utils.maid.wing_left",type:"checkbox",value:!1},wingRight:{label:"model.tlm_utils.maid.wing_right",type:"checkbox",value:!1},tail:{label:"model.tlm_utils.maid.tail",type:"checkbox",value:!1},ahoge:{label:"model.tlm_utils.maid.ahoge",type:"checkbox",value:!1}},onConfirm:function(formData){this.hide(),createPresetModelWorkspace(formData,defaultMaidModel)}}),sr2MaidModelDialog=new Dialog({title:"dialog.tlm_utils.create_new_model.maid.title",sidebar:{pages:{default:tl("dialog.tlm_utils.create_new_model.maid.default"),sr2:tl("dialog.tlm_utils.create_new_model.maid.little_maid_sr2")},page:"sr2",onPageSwitch(page){if("default"===page){defaultMaidModelDialog.show();for(let k in defaultMaidModelDialog.sidebar.page_menu){defaultMaidModelDialog.sidebar.page_menu[k].classList.toggle("selected",k===page)}}}},form:{head:{label:"model.tlm_utils.maid.head",type:"checkbox",value:!0},blink:{label:"model.tlm_utils.maid.blink",type:"checkbox",value:!0},body:{label:"model.tlm_utils.maid.body",type:"checkbox",value:!0},armLeft:{label:"model.tlm_utils.maid.arm_left",type:"checkbox",value:!0},armRight:{label:"model.tlm_utils.maid.arm_right",type:"checkbox",value:!0},legLeft:{label:"model.tlm_utils.maid.leg_left",type:"checkbox",value:!0},legRight:{label:"model.tlm_utils.maid.leg_right",type:"checkbox",value:!0}},onConfirm:function(formData){this.hide(),createPresetModelWorkspace(formData,sr2MaidModel)}}),createPresetModelWorkspace=function(formData,model){let copyModel=JSON.parse(JSON.stringify(model)),bones=copyModel["geometry.model"].bones;for(let i in formData)for(let j=0;j<bones.length;j++)if(bones[j].name===i&&!formData[i]){bones.splice(j,1);break}Codecs.bedrock_old.load(copyModel,{path:""})};function isEmpty(str){return!str||"string"==typeof str&&""===str.trim()}function mkdirs(dirname){return!!fs.existsSync(dirname)||(mkdirs(path.dirname(dirname))?(fs.mkdirSync(dirname),!0):void 0)}var script$1={name:"create_dialog",data:()=>({packId:"",packIdBorderColor:"#17191d",packIdBorderSize:"1px",packVersion:[1,0,0],packIcon:"",tip:"",canSubmit:!1}),methods:{tl:tl,setWarning:function(){this.packIdBorderColor="#FF0000",this.packIdBorderSize="1px",this.canSubmit=!1},resetWarning:function(){this.tip="",this.canSubmit=!0,this.packIdBorderColor="#17191d",this.packIdBorderSize="1px"},checkId:function(){return this.packId=this.packId.toLowerCase().replace(/\s|-/g,"_"),this.packId?this.packId.length<6?(this.tip=tl("dialog.tlm_utils.create_new_pack.pack_id.warn.length.desc"),void this.setWarning()):/^[\w.]+$/.test(this.packId)?void this.resetWarning():(this.tip=tl("dialog.tlm_utils.create_new_pack.pack_id.warn.invalid.desc"),void this.setWarning()):(this.tip=tl("dialog.tlm_utils.create_new_pack.pack_id.warn.empty.desc"),void this.setWarning())},submit:function(){if(!this.packId)return this.tip=tl("dialog.tlm_utils.create_new_pack.pack_id.warn.empty.desc"),void this.setWarning();if(this.canSubmit){let filePaths=electron.dialog.showOpenDialogSync(currentwindow,{properties:["openDirectory"],title:tl("dialog.tlm_utils.create_new_pack.directory")});if(filePaths){let packVersion,path=filePaths[0];if(null==path)return;isEmpty(this.packIcon)||fs.existsSync(this.packIcon)||(this.packIcon=""),packVersion=!this.packVersion||this.packVersion.length<3?"1.0.0":`${this.packVersion[0]}.${this.packVersion[1]}.${this.packVersion[2]}`;let root=`${path}/${this.packId}-${packVersion}`,namespace=`${root}/assets/${this.packId}`;mkdirs(root),mkdirs(namespace),mkdirs(`${namespace}/animation`),mkdirs(`${namespace}/lang`),mkdirs(`${namespace}/models/entity`),mkdirs(`${namespace}/textures/entity`),fs.writeFileSync(`${root}/pack.mcmeta`,'{"pack":{"pack_format":3,"description":"Touhou Little Maid Model Pack"}}'),isEmpty(this.packIcon)||fs.writeFileSync(`${root}/pack.png`,fs.readFileSync(this.packIcon)),createNewPackDialog.hide(),clearNewPackDialogData(this),Blockbench.notification(tl("dialog.tlm_utils.create_new_pack.success.title"),tl("dialog.tlm_utils.create_new_pack.success.desc",path))}}},openIconPath:function(){let filePaths=electron.dialog.showOpenDialogSync(currentwindow,{properties:["openFile"],title:tl("dialog.tlm_utils.create_new_pack.pack_icon.desc"),filters:[{name:"PNG",extensions:["png"]}]});filePaths&&(this.packIcon=filePaths[0])}}};const __vue_script__$1=script$1;var __vue_render__$1=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticStyle:{"margin-left":"0"}},[_c("div",[_c("h5",{staticStyle:{margin:"0",padding:"0"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_id"))+"\n            "),_c("span",{staticStyle:{color:"#ff0000"}},[_vm._v("*")])]),_vm._v(" "),_c("p",{staticStyle:{color:"#6a6a6d"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_id.desc")))]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.packId,expression:"packId"}],staticStyle:{"border-radius":"1px","margin-top":"5px",padding:"5px",width:"100%",height:"50px","font-size":"30px","background-color":"#1c2026","border-style":"solid"},style:{"border-color":_vm.packIdBorderColor,"border-width":this.packIdBorderSize},attrs:{placeholder:"",required:"",type:"text"},domProps:{value:_vm.packId},on:{blur:_vm.checkId,input:function($event){$event.target.composing||(_vm.packId=$event.target.value)}}})]),_vm._v(" "),_c("div",{staticStyle:{"margin-top":"20px"}},[_c("div",{staticStyle:{display:"flex","align-items":"center"}},[_c("button",{staticStyle:{"min-width":"50px",width:"130px",height:"130px","border-radius":"1px",margin:"0",padding:"0"},on:{click:_vm.openIconPath}},[_vm.packIcon?_c("div",{staticStyle:{padding:"5px"}},[_c("img",{attrs:{src:_vm.packIcon,alt:"",height:"120px",width:"120px"}})]):_c("div",[_c("i",{staticClass:"far fa-4x fa-images"})])]),_vm._v(" "),_c("div",{staticStyle:{"margin-left":"20px"}},[_c("h5",{staticStyle:{margin:"0",padding:"0"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_icon")))]),_vm._v(" "),_c("p",{staticStyle:{color:"#6a6a6d"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_icon.desc")))])])])]),_vm._v(" "),_c("div",{staticStyle:{"margin-top":"20px"}},[_c("div",{staticStyle:{display:"flex","align-items":"center"}},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.packVersion[0],expression:"packVersion[0]"}],staticStyle:{"border-radius":"1px","margin-top":"5px",padding:"2px",width:"35px",height:"50px","font-size":"30px","background-color":"#1c2026",border:"#17191d 1px solid"},attrs:{min:"0",placeholder:"1",step:"1",type:"number",value:"1"},domProps:{value:_vm.packVersion[0]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.packVersion,0,$event.target.value)}}}),_vm._v(" "),_c("p",{staticStyle:{"font-weight":"bold","font-size":"30px",margin:"20px 2px 2px"}},[_vm._v(".")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.packVersion[1],expression:"packVersion[1]"}],staticStyle:{"border-radius":"1px","margin-top":"5px",padding:"2px",width:"35px",height:"50px","font-size":"30px","background-color":"#1c2026",border:"#17191d 1px solid"},attrs:{min:"0",placeholder:"0",step:"1",type:"number",value:"0"},domProps:{value:_vm.packVersion[1]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.packVersion,1,$event.target.value)}}}),_vm._v(" "),_c("p",{staticStyle:{"font-weight":"bold","font-size":"30px",margin:"20px 2px 2px"}},[_vm._v(".")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.packVersion[2],expression:"packVersion[2]"}],staticStyle:{"border-radius":"1px","margin-top":"5px",padding:"2px",width:"35px",height:"50px","font-size":"30px","background-color":"#1c2026",border:"#17191d 1px solid"},attrs:{min:"0",placeholder:"0",step:"1",type:"number",value:"0"},domProps:{value:_vm.packVersion[2]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.packVersion,2,$event.target.value)}}}),_vm._v(" "),_c("div",{staticStyle:{"margin-left":"20px"}},[_c("h5",{staticStyle:{margin:"0",padding:"0"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_version")))]),_vm._v(" "),_c("p",{staticStyle:{color:"#6a6a6d"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_version.desc")))])])])]),_vm._v(" "),_c("div",{staticStyle:{"margin-top":"20px",height:"20px"}},[_c("p",{staticStyle:{color:"red"}},[_vm._v(_vm._s(_vm.tip))])]),_vm._v(" "),_c("div",{staticStyle:{"margin-top":"20px"}},[_c("button",{staticStyle:{width:"100%",height:"50px","border-radius":"1px"},on:{click:_vm.submit}},[_c("h5",[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.create")))])])])])};__vue_render__$1._withStripped=!0;const __vue_component__$1=normalizeComponent_1({render:__vue_render__$1,staticRenderFns:[]},(function(inject){inject&&inject("data-v-572f0b9a_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"create_dialog.vue"},media:void 0})}),__vue_script__$1,"data-v-572f0b9a",false,undefined,!1,browser,void 0,void 0);var createNewPackAction=new Action("tlm_utils.create_new_pack",{name:"menu.tlm_utils.create_new_pack",icon:"create",click:function(){createNewPackDialog.show()}});function clearNewPackDialogData(data){data.packId="",data.packIcon="",data.packVersion=[1,0,0],data.tip="",data.canSubmit=!1,data.packIdBorderColor="#17191d",data.packIdBorderSize="1px"}var createNewPackDialog=new Dialog({title:"dialog.tlm_utils.create_new_pack.title",width:600,singleButton:!0,onCancel:function(){clearNewPackDialogData(createNewPackDialog.content_vue)},component:__vue_component__$1});const __vue_script__$2={props:{parent:{type:Object,required:!0}},data:()=>({newSubModelPackId:"",newSubModelPackIdTip:""}),methods:{tl:tl,checkNewSubModelPackId:function(){return this.newSubModelPackId=this.newSubModelPackId.toLowerCase().replace(/\s|-/g,"_"),this.newSubModelPackId?this.newSubModelPackId.length<6?(this.newSubModelPackIdTip=tl("dialog.tlm_utils.create_new_pack.pack_id.warn.length.desc"),!1):/^[\w.]+$/.test(this.newSubModelPackId)?this.parent.packEditDialog.sidebar.pages[this.newSubModelPackId]?(this.newSubModelPackIdTip=tl("dialog.tlm_utils.load_pack.new_sub_pack.warn.duplicate"),!1):(this.newSubModelPackIdTip="",!0):(this.newSubModelPackIdTip=tl("dialog.tlm_utils.create_new_pack.pack_id.warn.invalid.desc"),!1):(this.newSubModelPackIdTip=tl("dialog.tlm_utils.create_new_pack.pack_id.warn.empty.desc"),!1)},newSubModelPackIdConfirm:function(){let pages=this.parent.packEditDialog.sidebar.pages;if(pages&&this.checkNewSubModelPackId()){let createRootPath=`${this.parent.assetsPath}/${this.newSubModelPackId}`;mkdirs(createRootPath),mkdirs(`${createRootPath}/animation`),mkdirs(`${createRootPath}/lang`),mkdirs(`${createRootPath}/models/entity`),mkdirs(`${createRootPath}/textures/entity`),pages[this.newSubModelPackId]=this.newSubModelPackId,this.parent.packEditDialog.sidebar.setPage(this.newSubModelPackId),this.parent.packEditDialog.sidebar.build()}},newSubModelPackIdCancel:function(){let pages=this.parent.packEditDialog.sidebar.pages;pages&&Object.keys(pages).length>0?this.parent.packEditDialog.sidebar.setPage(Object.keys(pages)[0]):this.parent.packEditDialog.sidebar.setPage("")}}};var __vue_render__$2=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"new-sub-model-pack-form-main"},[_c("div",[_c("h5",{staticStyle:{margin:"0",padding:"0"}},[_vm._v("\n            "+_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_id"))+"\n            "),_c("span",{staticStyle:{color:"#ff0000"}},[_vm._v("*")])]),_vm._v(" "),_c("p",{staticStyle:{color:"#6a6a6d"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.create_new_pack.pack_id.desc")))]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.newSubModelPackId,expression:"newSubModelPackId"}],staticClass:"new-sub-model-pack-form-input",attrs:{type:"text",required:""},domProps:{value:_vm.newSubModelPackId},on:{blur:_vm.checkNewSubModelPackId,input:function($event){$event.target.composing||(_vm.newSubModelPackId=$event.target.value)}}})]),_vm._v(" "),_c("div",{staticStyle:{"margin-top":"10px",height:"20px"}},[_c("p",{staticStyle:{color:"red"}},[_vm._v(_vm._s(_vm.newSubModelPackIdTip))])]),_vm._v(" "),_c("div",{staticStyle:{display:"flex","margin-top":"15px"}},[_c("button",{staticStyle:{width:"48%",height:"30px"},on:{click:_vm.newSubModelPackIdConfirm}},[_vm._v(_vm._s(_vm.tl("button.tlm_utils.confirm")))]),_vm._v(" "),_c("button",{staticStyle:{width:"48%",height:"30px","margin-left":"2%"},on:{click:_vm.newSubModelPackIdCancel}},[_vm._v(_vm._s(_vm.tl("button.tlm_utils.cancel")))])])])};__vue_render__$2._withStripped=!0;const __vue_component__$2=normalizeComponent_1({render:__vue_render__$2,staticRenderFns:[]},(function(inject){inject&&inject("data-v-7fd802bb_0",{source:"\n.new-sub-model-pack-form-main[data-v-7fd802bb] {\n    background-color: #21252b;\n    width: 100%;\n    height: 330px;\n    overflow-y: auto;\n    padding: 10px 20px\n}\n.new-sub-model-pack-form-input[data-v-7fd802bb] {\n    border-radius: 1px;\n    margin-top: 5px;\n    padding: 5px;\n    width: 100%;\n    height: 50px;\n    font-size: 30px;\n    background-color: #1c2026;\n}\n",map:{version:3,sources:["/home/runner/work/TLM-Utils-Plugins/TLM-Utils-Plugins/src/load/new_sub_model_pack_form.vue"],names:[],mappings:";AAsFA;IACA,yBAAA;IACA,WAAA;IACA,aAAA;IACA,gBAAA;IACA;AACA;AAEA;IACA,kBAAA;IACA,eAAA;IACA,YAAA;IACA,WAAA;IACA,YAAA;IACA,eAAA;IACA,yBAAA;AACA",file:"new_sub_model_pack_form.vue",sourcesContent:['<template>\n    <div class="new-sub-model-pack-form-main">\n        <div>\n            <h5 style="margin: 0; padding: 0">\n                {{tl("dialog.tlm_utils.create_new_pack.pack_id")}}\n                <span style="color: #ff0000">*</span>\n            </h5>\n            <p style="color: #6a6a6d">{{tl("dialog.tlm_utils.create_new_pack.pack_id.desc")}}</p>\n            <input @blur="checkNewSubModelPackId" class="new-sub-model-pack-form-input" type="text" v-model="newSubModelPackId" required>\n        </div>\n        <div style="margin-top: 10px; height: 20px">\n            <p style="color: red">{{newSubModelPackIdTip}}</p>\n        </div>\n        <div style="display: flex; margin-top: 15px">\n            <button @click="newSubModelPackIdConfirm" style="width: 48%; height: 30px">{{tl("button.tlm_utils.confirm")}}</button>\n            <button @click="newSubModelPackIdCancel" style="width: 48%; height: 30px; margin-left: 2%">{{tl("button.tlm_utils.cancel")}}</button>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mkdirs} from "../utils/filesystem";\n\n    export default {\n        props: {\n            parent: {\n                type: Object,\n                required: true\n            }\n        },\n        data() {\n            return {\n                newSubModelPackId: "",\n                newSubModelPackIdTip: ""\n            };\n        },\n        methods: {\n            tl: tl,\n            checkNewSubModelPackId: function () {\n                this.newSubModelPackId = this.newSubModelPackId.toLowerCase().replace(/\\s|-/g, "_");\n                if (!this.newSubModelPackId) {\n                    this.newSubModelPackIdTip = tl("dialog.tlm_utils.create_new_pack.pack_id.warn.empty.desc");\n                    return false;\n                }\n                if (this.newSubModelPackId.length < 6) {\n                    this.newSubModelPackIdTip = tl("dialog.tlm_utils.create_new_pack.pack_id.warn.length.desc");\n                    return false;\n                }\n                if (!(/^[\\w.]+$/.test(this.newSubModelPackId))) {\n                    this.newSubModelPackIdTip = tl("dialog.tlm_utils.create_new_pack.pack_id.warn.invalid.desc");\n                    return false;\n                }\n                if (this.parent.packEditDialog.sidebar.pages[this.newSubModelPackId]) {\n                    this.newSubModelPackIdTip = tl("dialog.tlm_utils.load_pack.new_sub_pack.warn.duplicate");\n                    return false;\n                }\n                this.newSubModelPackIdTip = "";\n                return true;\n            },\n            newSubModelPackIdConfirm: function () {\n                let pages = this.parent.packEditDialog.sidebar.pages;\n                if (pages && this.checkNewSubModelPackId()) {\n                    let createRootPath = `${this.parent.assetsPath}/${this.newSubModelPackId}`;\n                    mkdirs(createRootPath);\n                    mkdirs(`${createRootPath}/animation`);\n                    mkdirs(`${createRootPath}/lang`);\n                    mkdirs(`${createRootPath}/models/entity`);\n                    mkdirs(`${createRootPath}/textures/entity`);\n                    pages[this.newSubModelPackId] = this.newSubModelPackId;\n                    this.parent.packEditDialog.sidebar.setPage(this.newSubModelPackId);\n                    this.parent.packEditDialog.sidebar.build();\n                }\n            },\n            newSubModelPackIdCancel: function () {\n                let pages = this.parent.packEditDialog.sidebar.pages;\n                if (pages && Object.keys(pages).length > 0) {\n                    this.parent.packEditDialog.sidebar.setPage(Object.keys(pages)[0]);\n                } else {\n                    this.parent.packEditDialog.sidebar.setPage("");\n                }\n            }\n        }\n    };\n<\/script>\n\n<style scoped>\n    .new-sub-model-pack-form-main {\n        background-color: #21252b;\n        width: 100%;\n        height: 330px;\n        overflow-y: auto;\n        padding: 10px 20px\n    }\n\n    .new-sub-model-pack-form-input {\n        border-radius: 1px;\n        margin-top: 5px;\n        padding: 5px;\n        width: 100%;\n        height: 50px;\n        font-size: 30px;\n        background-color: #1c2026;\n    }\n</style>']},media:void 0})}),__vue_script__$2,"data-v-7fd802bb",false,undefined,!1,browser,void 0,void 0);function getPackLanguage(langPath,local){local||(local=tl("local.tlm_utils.name"));let output={};if(readLanguageFile(`${langPath}/en_us.lang`,output),"en_us"!==local){readLanguageFile(`${langPath}/${local}.lang`,output)}return output}function getTranslationKey(keyRaw){return 0===keyRaw.indexOf("{")&&keyRaw.indexOf("}")===keyRaw.length-1?keyRaw.replace(/^{/,"").replace(/}$/,""):keyRaw}function getTranslationResult(keyRaw,langMap){if(0===keyRaw.indexOf("{")&&keyRaw.indexOf("}")===keyRaw.length-1){let key=keyRaw.replace(/^{/,"").replace(/}$/,"");return!langMap||isEmpty(langMap[key])?keyRaw:langMap[key]}return keyRaw}function readLanguageFile(langFile,langMap){if(fs.existsSync(langFile)&&fs.statSync(langFile).isFile()){let allText=fs.readFileSync(langFile,"utf8");65279===allText.charCodeAt(0)&&(allText=allText.substr(1)),allText.split(/\r?\n/).forEach((function(line){if(0!==line.indexOf("#")){let text=line.split("=",2);isEmpty(text[0])||isEmpty(text[1])||(langMap[text[0]]=text[1])}}))}}const __vue_script__$3={props:{parent:{type:Object,required:!0}},data:()=>({}),methods:{tl:tl,hasModelListFile:function(type){let namespacePath=`${this.parent.assetsPath}/${this.parent.openCategory}`,modelListFile="maid"===type?`${namespacePath}/maid_model.json`:`${namespacePath}/maid_chair.json`;return fs.existsSync(modelListFile)},selectMaid:function(){"maid"!==this.parent.selected&&(this.parent.selected="maid",this.parent.reset())},selectChair:function(){"chair"!==this.parent.selected&&(this.parent.selected="chair",this.parent.reset())},newModelList:function(type){if(0===electron.dialog.showMessageBoxSync(currentwindow,{title:tl("dialog.tlm_utils.load_pack.new_list"),message:tl("dialog.tlm_utils.load_pack.new_list.desc"),type:"warning",buttons:[tl("button.tlm_utils.confirm"),tl("button.tlm_utils.cancel")],defaultId:1,cancelId:1,noLink:!0})){let namespacePath=`${this.parent.assetsPath}/${this.parent.openCategory}`,modelListFile="maid"===type?`${namespacePath}/maid_model.json`:`${namespacePath}/maid_chair.json`,packNameKey=`${type}_pack.${this.parent.openCategory}.name`,initData={pack_name:`{${packNameKey}}`,model_list:[]};fs.writeFileSync(modelListFile,autoStringify(initData)),getPackLanguage(`${namespacePath}/lang`,"en_us")[packNameKey]="",this.parent.selected=type+" ",this.parent.selected=this.parent.selected.trim(),this.parent.reset(),this.$forceUpdate()}}},computed:{isMaidButtonActive:function(){return"maid"===this.parent.selected},isChairButtonActive:function(){return"chair"===this.parent.selected}}};var __vue_render__$3=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticStyle:{display:"flex"}},[_vm.hasModelListFile("maid")?_c("button",{staticClass:"left-button",class:{inactive:_vm.isMaidButtonActive},on:{click:_vm.selectMaid}},[_vm._v("\n        "+_vm._s(_vm.tl("dialog.tlm_utils.create_new_model.choose_type.maid"))+"\n    ")]):_c("button",{staticClass:"left-button",on:{click:function($event){return _vm.newModelList("maid")}}},[_c("i",{staticClass:"fas fa-folder-plus"}),_vm._v("\n        "+_vm._s(_vm.tl("button.tlm_utils.new_maid_list"))+"\n    ")]),_vm._v(" "),_vm.hasModelListFile("chair")?_c("button",{staticClass:"right-button",class:{inactive:_vm.isChairButtonActive},on:{click:_vm.selectChair}},[_vm._v("\n        "+_vm._s(_vm.tl("dialog.tlm_utils.create_new_model.choose_type.chair"))+"\n    ")]):_c("button",{staticClass:"right-button",on:{click:function($event){return _vm.newModelList("chair")}}},[_c("i",{staticClass:"fas fa-folder-plus"}),_vm._v("\n        "+_vm._s(_vm.tl("button.tlm_utils.new_chair_list"))+"\n    ")])])};__vue_render__$3._withStripped=!0;const __vue_component__$3=normalizeComponent_1({render:__vue_render__$3,staticRenderFns:[]},(function(inject){inject&&inject("data-v-c60919ca_0",{source:"\n.inactive[data-v-c60919ca] {\n    background-color: #21252b;\n    pointer-events: none;\n}\n.left-button[data-v-c60919ca] {\n    width: 48%;\n    height: 30px\n}\n.right-button[data-v-c60919ca] {\n    width: 48%;\n    height: 30px;\n    margin-left: 2%\n}\n",map:{version:3,sources:["/home/runner/work/TLM-Utils-Plugins/TLM-Utils-Plugins/src/load/top_type_button.vue"],names:[],mappings:";AA6FA;IACA,yBAAA;IACA,oBAAA;AACA;AAEA;IACA,UAAA;IACA;AACA;AAEA;IACA,UAAA;IACA,YAAA;IACA;AACA",file:"top_type_button.vue",sourcesContent:['<template>\n    <div style="display: flex;">\n        <button :class="{\'inactive\':isMaidButtonActive}" @click="selectMaid" class="left-button" v-if="hasModelListFile(\'maid\')">\n            {{tl("dialog.tlm_utils.create_new_model.choose_type.maid")}}\n        </button>\n        <button @click="newModelList(\'maid\')" class="left-button" v-else>\n            <i class="fas fa-folder-plus"></i>\n            {{tl("button.tlm_utils.new_maid_list")}}\n        </button>\n\n        <button :class="{\'inactive\':isChairButtonActive}" @click="selectChair" class="right-button" v-if="hasModelListFile(\'chair\')">\n            {{tl("dialog.tlm_utils.create_new_model.choose_type.chair")}}\n        </button>\n        <button @click="newModelList(\'chair\')" class="right-button" v-else>\n            <i class="fas fa-folder-plus"></i>\n            {{tl("button.tlm_utils.new_chair_list")}}\n        </button>\n    </div>\n</template>\n\n<script>\n    import {getPackLanguage} from "../utils/language";\n\n    export default {\n        props: {\n            parent: {\n                type: Object,\n                required: true\n            }\n        },\n        data() {\n            return {};\n        },\n        methods: {\n            tl: tl,\n            hasModelListFile: function (type) {\n                let namespacePath = `${this.parent.assetsPath}/${this.parent.openCategory}`;\n                let modelListFile = (type === "maid") ? `${namespacePath}/maid_model.json` : `${namespacePath}/maid_chair.json`;\n                return fs.existsSync(modelListFile);\n            },\n            selectMaid: function () {\n                if (this.parent.selected !== "maid") {\n                    this.parent.selected = "maid";\n                    this.parent.reset();\n                }\n            },\n            selectChair: function () {\n                if (this.parent.selected !== "chair") {\n                    this.parent.selected = "chair";\n                    this.parent.reset();\n                }\n            },\n            newModelList: function (type) {\n                let index = electron.dialog.showMessageBoxSync(currentwindow, {\n                    title: tl("dialog.tlm_utils.load_pack.new_list"),\n                    message: tl("dialog.tlm_utils.load_pack.new_list.desc"),\n                    type: "warning",\n                    buttons: [tl("button.tlm_utils.confirm"), tl("button.tlm_utils.cancel")],\n                    defaultId: 1,\n                    cancelId: 1,\n                    noLink: true\n                });\n                if (index === 0) {\n                    let namespacePath = `${this.parent.assetsPath}/${this.parent.openCategory}`;\n                    let modelListFile = (type === "maid") ? `${namespacePath}/maid_model.json` : `${namespacePath}/maid_chair.json`;\n                    let packNameKey = `${type}_pack.${this.parent.openCategory}.name`;\n                    let initData = {\n                        "pack_name": `{${packNameKey}}`,\n                        "model_list": []\n                    };\n                    fs.writeFileSync(modelListFile, autoStringify(initData));\n                    let langPath = `${namespacePath}/lang`;\n                    let langMap = getPackLanguage(langPath, "en_us");\n                    langMap[packNameKey] = "";\n                    this.parent.selected = type + " ";\n                    this.parent.selected = this.parent.selected.trim();\n                    this.parent.reset();\n                    this.$forceUpdate();\n                }\n            }\n        },\n        computed: {\n            isMaidButtonActive: function () {\n                return this.parent.selected === "maid";\n            },\n            isChairButtonActive: function () {\n                return this.parent.selected === "chair";\n            }\n        }\n    };\n<\/script>\n\n<style scoped>\n    .inactive {\n        background-color: #21252b;\n        pointer-events: none;\n    }\n\n    .left-button {\n        width: 48%;\n        height: 30px\n    }\n\n    .right-button {\n        width: 48%;\n        height: 30px;\n        margin-left: 2%\n    }\n</style>']},media:void 0})}),__vue_script__$3,"data-v-c60919ca",false,undefined,!1,browser,void 0,void 0);var script$4={props:{parent:{type:Object,required:!0}},data:()=>({modelListInfo:{},selectedIconPath:"",randomIconSuffix:0,isEditModelListInfo:!1}),methods:{tl:tl,reset:function(){this.modelListInfo={},this.selectedIconPath="",this.isEditModelListInfo=!1},getIconPath:function(packInfo){if(this.selectedIconPath)return this.selectedIconPath;if(packInfo&&packInfo.data&&packInfo.data.icon){let icon=packInfo.data.icon.replace(":","/"),iconPath=`${this.parent.assetsPath}/${icon}`;if(fs.existsSync(iconPath))return`${iconPath}?${this.randomIconSuffix}`}},getPackName:function(){let showInfo=this.parent.showInfo;if(showInfo&&showInfo.data&&showInfo.data.pack_name){return getTranslationResult(showInfo.data.pack_name,showInfo.lang)}},getStringVersion:function(){let showInfo=this.parent.showInfo;if(showInfo&&showInfo.version&&showInfo.version.length>=3){let version=showInfo.version;return`${version[0]}.${version[1]}.${version[2]}`}return"1.0.0"},getDescription:function(){let showInfo=this.parent.showInfo;if(showInfo&&showInfo.data&&showInfo.data.description){let output=[];for(let keyRaw of showInfo.data.description)"string"==typeof keyRaw&&output.push(getTranslationResult(keyRaw,showInfo.lang));if(1===output.length)return output[0];if(output.length>=1)return output[0]+"..."}},clickEditInfo:function(){this.isEditModelListInfo||(this.isEditModelListInfo=!0,this.modelListInfo=this.parent.showInfo,this.modelListInfo.data.author||(this.modelListInfo.data.author=[]),this.modelListInfo.data.description||(this.modelListInfo.data.description=[]))},openIconPath:function(){let filePaths=electron.dialog.showOpenDialogSync(currentwindow,{properties:["openFile"],title:tl("dialog.tlm_utils.create_new_pack.pack_icon.desc"),filters:[{name:"PNG",extensions:["png"]}]});filePaths&&(this.selectedIconPath=filePaths[0])},deleteAuthor:function(index){this.modelListInfo&&this.modelListInfo.data&&this.modelListInfo.data.author&&(this.modelListInfo.data.author.splice(index,1),this.$forceUpdate())},addAuthor:function(){this.modelListInfo&&this.modelListInfo.data&&(this.modelListInfo.data.author&&this.modelListInfo.data.author.length>0?this.modelListInfo.data.author.push(""):(this.modelListInfo.data.author=[""],this.$forceUpdate()))},clickConfirm:function(){let namespacePath=`${this.parent.assetsPath}/${this.parent.openCategory}`,modelListFile="maid"===this.parent.selected?`${namespacePath}/maid_model.json`:`${namespacePath}/maid_chair.json`;if(this.selectedIconPath&&fs.writeFileSync(`${namespacePath}/textures/${this.parent.selected}_icon.png`,fs.readFileSync(this.selectedIconPath)),this.modelListInfo.data.icon=`${this.parent.openCategory}:textures/${this.parent.selected}_icon.png`,this.modelListInfo.data.version=`${this.modelListInfo.version[0]}.${this.modelListInfo.version[1]}.${this.modelListInfo.version[2]}`,this.modelListInfo.data.author){for(let author of this.modelListInfo.data.author)isEmpty(author)&&this.modelListInfo.data.author.splice(this.modelListInfo.data.author.indexOf(author));this.modelListInfo.data.author.length<1&&delete this.modelListInfo.data.author}if(this.modelListInfo.data.description){for(let desc of this.modelListInfo.data.description){let key=getTranslationKey(desc);isEmpty(this.modelListInfo.lang[key])&&(delete this.modelListInfo.lang[key],this.modelListInfo.data.description.splice(this.modelListInfo.data.description.indexOf(desc)))}this.modelListInfo.data.description.length<1&&delete this.modelListInfo.data.description}fs.writeFileSync(modelListFile,autoStringify(this.modelListInfo.data)),function(local,langPath,langMap){let langFile=`${langPath}/${local}.lang`,output="";for(let k of Object.keys(langMap))output+=`${k}=${langMap[k]}\n`;fs.writeFileSync(langFile,output)}("en_us",this.modelListInfo.langPath,this.modelListInfo.lang),this.isEditModelListInfo=!1,this.selectedIconPath="",this.randomIconSuffix=Math.random()},clickCancel:function(){this.isEditModelListInfo=!1,this.selectedIconPath="",this.parent.selected=this.parent.selected+" ",this.parent.selected=this.parent.selected.trim()},deleteModelList:function(){if(0===electron.dialog.showMessageBoxSync(currentwindow,{title:tl("dialog.tlm_utils.load_pack.list.delete"),message:tl("dialog.tlm_utils.load_pack.list.delete.desc"),type:"warning",buttons:[tl("button.tlm_utils.confirm"),tl("button.tlm_utils.cancel")],defaultId:1,cancelId:1,noLink:!0})){let namespacePath=path.join(this.parent.assetsPath,this.parent.openCategory),selected=this.parent.selected,maidFile=path.join(namespacePath,"maid_model.json"),chairFile=path.join(namespacePath,"maid_chair.json"),hasMaidFile=fs.existsSync(maidFile),hasChairFile=fs.existsSync(chairFile);if(hasMaidFile&&hasChairFile){let file="maid"===selected?maidFile:chairFile,text=fs.readFileSync(file,"utf8");65279===text.charCodeAt(0)&&(text=text.substr(1));let data=JSON.parse(text),pathDelete=[];if(data.icon){let iconPath=path.join(this.parent.assetsPath,data.icon.replace(":","/"));fs.existsSync(iconPath)&&pathDelete.push(iconPath)}let modelList=data.model_list;if(modelList)for(let model of modelList)if(model.model_id){if(model.model){let modelPath=path.join(this.parent.assetsPath,model.model.replace(":","/"));fs.existsSync(modelPath)&&pathDelete.push(modelPath)}else{let split=model.model_id.split(":",2),modelPath=path.join(this.parent.assetsPath,split[0],"models","entity",split[1]+".json");fs.existsSync(modelPath)&&pathDelete.push(modelPath)}if(model.texture){let texturePath=path.join(this.parent.assetsPath,model.texture.replace(":","/"));fs.existsSync(texturePath)&&pathDelete.push(texturePath)}else{let split=model.model_id.split(":",2),texturePath=path.join(this.parent.assetsPath,split[0],"textures","entity",split[1]+".png");fs.existsSync(texturePath)&&pathDelete.push(texturePath)}}for(let deleteFile of pathDelete)electron.shell.trashItem(deleteFile).then((()=>{}));electron.shell.trashItem(file).then((()=>{this.parent.selected="maid"===selected?"chair":"maid",this.parent.$children.forEach((value=>value.$forceUpdate()))}))}else electron.shell.trashItem(namespacePath).then((()=>{mkdirs(namespacePath),mkdirs(`${namespacePath}/animation`),mkdirs(`${namespacePath}/lang`),mkdirs(`${namespacePath}/models/entity`),mkdirs(`${namespacePath}/textures/entity`),this.parent.selected+=" ",this.parent.selected=this.parent.selected.trim(),this.parent.$children.forEach((value=>value.$forceUpdate()))}))}}},computed:{isEditListInfoButtonActive:function(){return this.isEditModelListInfo},packNameKey:function(){if(this.modelListInfo&&this.modelListInfo.data&&this.modelListInfo.data.pack_name)return getTranslationKey(this.modelListInfo.data.pack_name)},packDescKeys:function(){if(this.modelListInfo&&this.modelListInfo.data){let output=[];if(this.modelListInfo.data.description)for(let keyRaw of this.modelListInfo.data.description)"string"==typeof keyRaw&&output.push(getTranslationKey(keyRaw));if(!output||output.length<1){let key=`${this.parent.selected}_pack.${this.parent.openCategory}.desc`,keyRaw=`{${key}}`;this.modelListInfo.lang[key]="",this.modelListInfo.data.description||(this.modelListInfo.data.description=[]),this.modelListInfo.data.description.push(keyRaw),output.push(key)}return output}}}};const __vue_script__$4=script$4;var __vue_render__$4=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"model-list-info"},[_c("div",{staticStyle:{display:"flex"}},[_c("div",{staticClass:"model-list-info-icon"},[_vm.getIconPath(_vm.parent.showInfo)?_c("div",{staticClass:"model-list-info-icon-img"},[_c("img",{attrs:{src:_vm.getIconPath(_vm.parent.showInfo),alt:"",height:"100%",width:"100%"}})]):_c("div",{staticClass:"model-list-info-icon-no-img"},[_c("i",{staticClass:"far fa-4x fa-images"})])]),_vm._v(" "),_c("div",{staticClass:"model-list-text"},[_c("p",{staticStyle:{"font-size":"larger"}},[_vm._v("\n                    "+_vm._s(_vm.getPackName())+"\n                    "),_c("span",{staticClass:"model-list-info-version"},[_c("i",{staticClass:"fas fa-tag fa-fw",staticStyle:{"font-size":"smaller"}}),_vm._v("\n                        "+_vm._s(_vm.getStringVersion())+"\n                    ")])]),_vm._v(" "),_vm.parent.showInfo.data.description?_c("p",{staticClass:"model-list-info-other"},[_c("i",{staticClass:"fas fa-comment-alt fa-fw"}),_vm._v("\n                    "+_vm._s(_vm.getDescription())+"\n                ")]):_vm._e(),_vm._v(" "),_c("p",{staticClass:"model-list-info-other"},[_c("i",{staticClass:"fas fa-user fa-fw"}),_vm._v(" "),_vm._l(_vm.parent.showInfo.data.author,(function(author,index){return _c("span",{key:index},[_vm._v("\n                        "+_vm._s(author)+"\n                    ")])}))],2),_vm._v(" "),_c("p",{staticClass:"model-list-info-other"},[_c("i",{staticClass:"far fa-calendar-alt fa-fw"}),_vm._v("\n                    "+_vm._s(_vm.parent.showInfo.data.date)+"\n                ")])])]),_vm._v(" "),_c("div",{staticStyle:{"margin-top":"10px",display:"flex"}},[_c("button",{class:{"inactive-edit-list-button":_vm.isEditListInfoButtonActive},staticStyle:{width:"100%"},on:{click:_vm.clickEditInfo}},[_c("i",{staticClass:"fas fa-edit"}),_vm._v("\n                "+_vm._s(_vm.tl("dialog.tlm_utils.load_pack.detail.edit_list_info"))+"\n            ")]),_vm._v(" "),_c("button",{staticClass:"model-list-edit-delete",attrs:{title:_vm.tl("dialog.tlm_utils.load_pack.list.delete")},on:{click:_vm.deleteModelList}},[_c("i",{staticClass:"fas fa-trash-alt"})])])]),_vm._v(" "),_vm.isEditModelListInfo?_c("div",{staticClass:"model-list-edit"},[_c("div",{staticClass:"model-list-edit-main"},[_c("div",[_c("p",{staticClass:"model-list-edit-item-title"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.pack_name")))]),_vm._v(" "),_c("p",{staticClass:"model-list-edit-item-desc"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.pack_name.desc")))]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.modelListInfo.lang[_vm.packNameKey],expression:"modelListInfo.lang[packNameKey]"}],staticClass:"model-list-edit-name-input",attrs:{type:"text"},domProps:{value:_vm.modelListInfo.lang[_vm.packNameKey]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.modelListInfo.lang,_vm.packNameKey,$event.target.value)}}})]),_vm._v(" "),_c("div",{staticClass:"flex-edit-item"},[_c("button",{staticClass:"model-list-edit-icon",on:{click:_vm.openIconPath}},[_vm.getIconPath(_vm.modelListInfo)?_c("img",{staticStyle:{padding:"5px"},attrs:{src:_vm.getIconPath(_vm.modelListInfo),alt:"",height:"115x",width:"115x"}}):_c("div",[_c("i",{staticClass:"far fa-4x fa-images"})])]),_vm._v(" "),_c("div",{staticStyle:{"margin-left":"20px"}},[_c("h5",{staticStyle:{margin:"0",padding:"0"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.icon")))]),_vm._v(" "),_c("p",{staticStyle:{color:"#6a6a6d"}},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.icon.desc")))])])]),_vm._v(" "),_c("div",{staticClass:"flex-edit-item"},[_c("div",{staticClass:"version-input"},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.modelListInfo.version[0],expression:"modelListInfo.version[0]"}],attrs:{min:"0",placeholder:"1",step:"1",type:"number",value:"1"},domProps:{value:_vm.modelListInfo.version[0]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.modelListInfo.version,0,$event.target.value)}}}),_vm._v(" "),_c("p",[_vm._v(".")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.modelListInfo.version[1],expression:"modelListInfo.version[1]"}],attrs:{min:"0",placeholder:"0",step:"1",type:"number",value:"0"},domProps:{value:_vm.modelListInfo.version[1]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.modelListInfo.version,1,$event.target.value)}}}),_vm._v(" "),_c("p",[_vm._v(".")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.modelListInfo.version[2],expression:"modelListInfo.version[2]"}],attrs:{min:"0",placeholder:"0",step:"1",type:"number",value:"0"},domProps:{value:_vm.modelListInfo.version[2]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.modelListInfo.version,2,$event.target.value)}}})]),_vm._v(" "),_c("div",{staticStyle:{"margin-left":"20px"}},[_c("p",{staticClass:"model-list-edit-item-title"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.version")))]),_vm._v(" "),_c("p",{staticClass:"model-list-edit-item-desc"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.version.desc")))])])]),_vm._v(" "),_c("div",{staticClass:"flex-edit-item"},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.modelListInfo.data.date,expression:"modelListInfo.data['date']"}],staticClass:"model-list-edit-date-input",attrs:{type:"date"},domProps:{value:_vm.modelListInfo.data.date},on:{input:function($event){$event.target.composing||_vm.$set(_vm.modelListInfo.data,"date",$event.target.value)}}}),_vm._v(" "),_c("div",{staticStyle:{"margin-left":"20px"}},[_c("p",{staticClass:"model-list-edit-item-title"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.date")))]),_vm._v(" "),_c("p",{staticClass:"model-list-edit-item-desc"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.date.desc")))])])]),_vm._v(" "),_c("div",{staticClass:"flex-edit-item"},[_c("div",[_vm._l(_vm.modelListInfo.data.author,(function(author,index){return _c("div",{key:index,staticStyle:{display:"flex"}},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.modelListInfo.data.author[index],expression:"modelListInfo.data['author'][index]"}],staticClass:"model-list-edit-author-input",attrs:{type:"text"},domProps:{value:_vm.modelListInfo.data.author[index]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.modelListInfo.data.author,index,$event.target.value)}}}),_vm._v(" "),_c("button",{staticClass:"model-list-edit-author-delete",on:{click:function($event){return _vm.deleteAuthor(index)}}},[_c("i",{staticClass:"fas fa-trash-alt fa-align-center"})])])})),_vm._v(" "),_c("button",{staticStyle:{width:"127px","margin-top":"5px"},on:{click:_vm.addAuthor}},[_c("i",{staticClass:"fas fa-user-plus fa-fw"})])],2),_vm._v(" "),_c("div",{staticStyle:{"margin-left":"20px"}},[_c("p",{staticClass:"model-list-edit-item-title"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.author")))]),_vm._v(" "),_c("p",{staticClass:"model-list-edit-item-desc"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.author.desc")))])])]),_vm._v(" "),_c("div",{staticStyle:{"margin-top":"20px"}},[_c("p",{staticClass:"model-list-edit-item-title"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.description")))]),_vm._v(" "),_c("p",{staticClass:"model-list-edit-item-desc"},[_vm._v(_vm._s(_vm.tl("dialog.tlm_utils.load_pack.edit.description.desc")))]),_vm._v(" "),_vm._l(_vm.packDescKeys,(function(key,index){return _c("div",{key:index},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.modelListInfo.lang[key],expression:"modelListInfo.lang[key]"}],staticClass:"model-list-edit-desc-input",attrs:{type:"text"},domProps:{value:_vm.modelListInfo.lang[key]},on:{input:function($event){$event.target.composing||_vm.$set(_vm.modelListInfo.lang,key,$event.target.value)}}})])}))],2)]),_vm._v(" "),_c("div",{staticStyle:{display:"flex","margin-top":"10px"}},[_c("button",{staticStyle:{width:"48%"},on:{click:_vm.clickConfirm}},[_vm._v(_vm._s(_vm.tl("button.tlm_utils.confirm")))]),_vm._v(" "),_c("button",{staticStyle:{width:"48%","margin-left":"2%"},on:{click:_vm.clickCancel}},[_vm._v(_vm._s(_vm.tl("button.tlm_utils.cancel")))])])]):_vm._e()])};__vue_render__$4._withStripped=!0;const __vue_component__$4=normalizeComponent_1({render:__vue_render__$4,staticRenderFns:[]},(function(inject){inject&&inject("data-v-04b602ee_0",{source:"\n.model-list-info[data-v-04b602ee] {\n    background-color: #21252b;\n    padding: 10px;\n    margin-top: 10px\n}\n.model-list-text[data-v-04b602ee] {\n    padding-left: 10px;\n    width: 77%\n}\n.model-list-info-icon[data-v-04b602ee] {\n    width: 100px;\n    height: 100px;\n    border-style: solid;\n    border-width: 1px;\n    border-color: #17191d\n}\n.model-list-info-icon-img[data-v-04b602ee] {\n    width: 100%;\n    height: 100%;\n    padding: 5px\n}\n.model-list-info-icon-no-img[data-v-04b602ee] {\n    width: 100%;\n    height: 100%;\n    padding: 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center\n}\n.model-list-info-version[data-v-04b602ee] {\n    font-size: small;\n    color: #848891;\n    margin-left: 5px;\n    background-color: #17191d;\n    border-radius: 2px;\n    padding: 0 5px\n}\n.model-list-info-other[data-v-04b602ee] {\n    color: #848891;\n    font-size: small;\n    margin: 0;\n}\n.model-list-edit[data-v-04b602ee] {\n    height: 100%;\n    width: 100%;\n    margin-top: 10px\n}\n.model-list-edit-main[data-v-04b602ee] {\n    background-color: #21252b;\n    width: 100%;\n    height: 330px;\n    overflow-y: auto;\n    padding: 10px 20px\n}\n.model-list-edit-item-title[data-v-04b602ee] {\n    margin: 0;\n    padding: 0;\n    font-size: large\n}\n.model-list-edit-item-desc[data-v-04b602ee] {\n    margin: 0;\n    padding: 0;\n    color: #6a6a6d\n}\n.model-list-edit-icon[data-v-04b602ee] {\n    min-width: 50px;\n    width: 125px;\n    height: 125px;\n    border-radius: 1px;\n    margin: 0;\n    padding: 0\n}\n.model-list-edit-name-input[data-v-04b602ee], .model-list-edit-desc-input[data-v-04b602ee] {\n    border-radius: 1px;\n    margin-top: 5px;\n    padding: 5px;\n    width: 100%;\n    height: 30px;\n    font-size: 20px;\n    background-color: #1c2026;\n    border-style: solid;\n    border-width: 1px;\n    border-color: #181a1f;\n}\n.model-list-edit-date-input[data-v-04b602ee] {\n    border-radius: 1px;\n    margin-top: 5px;\n    padding: 2px;\n    width: 125px;\n    height: 30px;\n    font-size: 13px;\n    background-color: #1c2026;\n    border-style: solid;\n    border-width: 1px;\n    border-color: #181a1f;\n}\n.model-list-edit-author-input[data-v-04b602ee] {\n    border-radius: 1px;\n    margin-top: 5px;\n    padding: 2px;\n    width: 90px;\n    height: 30px;\n    font-size: 13px;\n    background-color: #1c2026;\n    border-style: solid;\n    border-width: 1px;\n    border-color: #181a1f;\n}\n.model-list-edit-author-delete[data-v-04b602ee] {\n    width: 30px;\n    min-width: 30px;\n    height: 30px;\n    min-height: 30px;\n    margin: 5px 0 0 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center\n}\n.model-list-edit-delete[data-v-04b602ee] {\n    min-width: 30px;\n    width: 30px;\n    margin-left: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.inactive-edit-list-button[data-v-04b602ee] {\n    background-color: #1c2026;\n    pointer-events: none;\n}\n.flex-edit-item[data-v-04b602ee] {\n    display: flex;\n    align-items: center;\n    margin-top: 20px\n}\n.version-input[data-v-04b602ee] {\n    display: flex;\n}\n.version-input > input[data-v-04b602ee] {\n    border-radius: 1px;\n    margin-top: 5px;\n    padding: 2px;\n    width: 35px;\n    height: 30px;\n    font-size: 20px;\n    background-color: #1c2026;\n    border: #17191d 1px solid\n}\n.version-input > p[data-v-04b602ee] {\n    font-weight: bold;\n    font-size: 20px;\n    margin: 10px 2px 2px;\n}\n",map:{version:3,sources:["/home/runner/work/TLM-Utils-Plugins/TLM-Utils-Plugins/src/load/model_list_info.vue"],names:[],mappings:";AA0aA;IACA,yBAAA;IACA,aAAA;IACA;AACA;AAEA;IACA,kBAAA;IACA;AACA;AAEA;IACA,YAAA;IACA,aAAA;IACA,mBAAA;IACA,iBAAA;IACA;AACA;AAEA;IACA,WAAA;IACA,YAAA;IACA;AACA;AAEA;IACA,WAAA;IACA,YAAA;IACA,YAAA;IACA,aAAA;IACA,uBAAA;IACA;AACA;AAEA;IACA,gBAAA;IACA,cAAA;IACA,gBAAA;IACA,yBAAA;IACA,kBAAA;IACA;AACA;AAEA;IACA,cAAA;IACA,gBAAA;IACA,SAAA;AACA;AAEA;IACA,YAAA;IACA,WAAA;IACA;AACA;AAEA;IACA,yBAAA;IACA,WAAA;IACA,aAAA;IACA,gBAAA;IACA;AACA;AAEA;IACA,SAAA;IACA,UAAA;IACA;AACA;AAEA;IACA,SAAA;IACA,UAAA;IACA;AACA;AAEA;IACA,eAAA;IACA,YAAA;IACA,aAAA;IACA,kBAAA;IACA,SAAA;IACA;AACA;AAEA;IACA,kBAAA;IACA,eAAA;IACA,YAAA;IACA,WAAA;IACA,YAAA;IACA,eAAA;IACA,yBAAA;IACA,mBAAA;IACA,iBAAA;IACA,qBAAA;AACA;AAEA;IACA,kBAAA;IACA,eAAA;IACA,YAAA;IACA,YAAA;IACA,YAAA;IACA,eAAA;IACA,yBAAA;IACA,mBAAA;IACA,iBAAA;IACA,qBAAA;AACA;AAEA;IACA,kBAAA;IACA,eAAA;IACA,YAAA;IACA,WAAA;IACA,YAAA;IACA,eAAA;IACA,yBAAA;IACA,mBAAA;IACA,iBAAA;IACA,qBAAA;AACA;AAEA;IACA,WAAA;IACA,eAAA;IACA,YAAA;IACA,gBAAA;IACA,mBAAA;IACA,aAAA;IACA,uBAAA;IACA;AACA;AAEA;IACA,eAAA;IACA,WAAA;IACA,iBAAA;IACA,aAAA;IACA,mBAAA;IACA,uBAAA;AACA;AAEA;IACA,yBAAA;IACA,oBAAA;AACA;AAEA;IACA,aAAA;IACA,mBAAA;IACA;AACA;AAEA;IACA,aAAA;AACA;AAEA;IACA,kBAAA;IACA,eAAA;IACA,YAAA;IACA,WAAA;IACA,YAAA;IACA,eAAA;IACA,yBAAA;IACA;AACA;AAEA;IACA,iBAAA;IACA,eAAA;IACA,oBAAA;AACA",file:"model_list_info.vue",sourcesContent:['<template>\n    <div>\n        \x3c!-- Model List Info --\x3e\n        <div class="model-list-info">\n            \x3c!-- Info --\x3e\n            <div style="display: flex;">\n                \x3c!-- Icon --\x3e\n                <div class="model-list-info-icon">\n                    <div class="model-list-info-icon-img" v-if="getIconPath(parent.showInfo)">\n                        <img :src="getIconPath(parent.showInfo)" alt="" height="100%" width="100%">\n                    </div>\n                    <div class="model-list-info-icon-no-img" v-else>\n                        <i class="far fa-4x fa-images"></i>\n                    </div>\n                </div>\n\n                \x3c!-- Text Info --\x3e\n                <div class="model-list-text">\n                    <p style="font-size: larger">\n                        {{getPackName()}}\n                        <span class="model-list-info-version">\n                            <i class="fas fa-tag fa-fw" style="font-size: smaller;"></i>\n                            {{getStringVersion()}}\n                        </span>\n                    </p>\n                    <p class="model-list-info-other" v-if="parent.showInfo.data[\'description\']">\n                        <i class="fas fa-comment-alt fa-fw"></i>\n                        {{getDescription()}}\n                    </p>\n                    <p class="model-list-info-other">\n                        <i class="fas fa-user fa-fw"></i>\n                        <span :key="index" v-for="(author,index) in parent.showInfo.data[\'author\']">\n                            {{author}}\n                        </span>\n                    </p>\n                    <p class="model-list-info-other">\n                        <i class="far fa-calendar-alt fa-fw"></i>\n                        {{parent.showInfo.data["date"]}}\n                    </p>\n                </div>\n            </div>\n\n            \x3c!-- Edit Info Button --\x3e\n            <div style="margin-top: 10px; display: flex">\n                <button :class="{\'inactive-edit-list-button\':isEditListInfoButtonActive}" @click="clickEditInfo" style="width: 100%">\n                    <i class="fas fa-edit"></i>\n                    {{tl("dialog.tlm_utils.load_pack.detail.edit_list_info")}}\n                </button>\n                <button :title="tl(\'dialog.tlm_utils.load_pack.list.delete\')" @click="deleteModelList" class="model-list-edit-delete">\n                    <i class="fas fa-trash-alt"></i>\n                </button>\n            </div>\n        </div>\n\n        \x3c!-- Model List Info Edit --\x3e\n        <div class="model-list-edit" v-if="isEditModelListInfo">\n            <div class="model-list-edit-main">\n                \x3c!-- Model List Name --\x3e\n                <div>\n                    <p class="model-list-edit-item-title">{{tl("dialog.tlm_utils.load_pack.edit.pack_name")}}</p>\n                    <p class="model-list-edit-item-desc">{{tl("dialog.tlm_utils.load_pack.edit.pack_name.desc")}}</p>\n                    <input class="model-list-edit-name-input" type="text" v-model="modelListInfo.lang[packNameKey]">\n                </div>\n\n                \x3c!-- Model Icon --\x3e\n                <div class="flex-edit-item">\n                    <button @click="openIconPath" class="model-list-edit-icon">\n                        <img :src="getIconPath(modelListInfo)" alt="" height="115x" style="padding: 5px" v-if="getIconPath(modelListInfo)" width="115x">\n                        <div v-else><i class="far fa-4x fa-images"></i></div>\n                    </button>\n\n                    <div style="margin-left: 20px">\n                        <h5 style="margin: 0; padding: 0">{{tl("dialog.tlm_utils.load_pack.edit.icon")}}</h5>\n                        <p style="color: #6a6a6d">{{tl("dialog.tlm_utils.load_pack.edit.icon.desc")}}</p>\n                    </div>\n                </div>\n\n                \x3c!-- Model Version --\x3e\n                <div class="flex-edit-item">\n                    <div class="version-input">\n                        <input min="0" placeholder="1" step="1" type="number" v-model="modelListInfo.version[0]" value="1">\n                        <p>.</p>\n                        <input min="0" placeholder="0" step="1" type="number" v-model="modelListInfo.version[1]" value="0">\n                        <p>.</p>\n                        <input min="0" placeholder="0" step="1" type="number" v-model="modelListInfo.version[2]" value="0">\n                    </div>\n\n                    <div style="margin-left: 20px">\n                        <p class="model-list-edit-item-title">{{tl("dialog.tlm_utils.load_pack.edit.version")}}</p>\n                        <p class="model-list-edit-item-desc">{{tl("dialog.tlm_utils.load_pack.edit.version.desc")}}</p>\n                    </div>\n                </div>\n\n                \x3c!-- Model Date --\x3e\n                <div class="flex-edit-item">\n                    <input class="model-list-edit-date-input" type="date" v-model="modelListInfo.data[\'date\']">\n                    <div style="margin-left: 20px">\n                        <p class="model-list-edit-item-title">{{tl("dialog.tlm_utils.load_pack.edit.date")}}</p>\n                        <p class="model-list-edit-item-desc">{{tl("dialog.tlm_utils.load_pack.edit.date.desc")}}</p>\n                    </div>\n                </div>\n\n                \x3c!-- Model Author --\x3e\n                <div class="flex-edit-item">\n                    <div>\n                        <div :key="index" style="display: flex" v-for="(author, index) in modelListInfo.data[\'author\']">\n                            <input class="model-list-edit-author-input" type="text" v-model="modelListInfo.data[\'author\'][index]">\n                            <button @click="deleteAuthor(index)" class="model-list-edit-author-delete">\n                                <i class="fas fa-trash-alt fa-align-center"></i>\n                            </button>\n                        </div>\n                        <button @click="addAuthor" style="width: 127px; margin-top: 5px">\n                            <i class="fas fa-user-plus fa-fw"></i>\n                        </button>\n                    </div>\n\n                    <div style="margin-left: 20px">\n                        <p class="model-list-edit-item-title">{{tl("dialog.tlm_utils.load_pack.edit.author")}}</p>\n                        <p class="model-list-edit-item-desc">{{tl("dialog.tlm_utils.load_pack.edit.author.desc")}}</p>\n                    </div>\n                </div>\n\n                \x3c!-- Model Description --\x3e\n                <div style="margin-top: 20px">\n                    <p class="model-list-edit-item-title">{{tl("dialog.tlm_utils.load_pack.edit.description")}}</p>\n                    <p class="model-list-edit-item-desc">{{tl("dialog.tlm_utils.load_pack.edit.description.desc")}}</p>\n                    <div :key="index" v-for="(key, index) in packDescKeys">\n                        <input class="model-list-edit-desc-input" type="text" v-model="modelListInfo.lang[key]">\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Info Edit Confirm Button --\x3e\n            <div style="display: flex; margin-top: 10px;">\n                <button @click="clickConfirm" style="width: 48%">{{tl("button.tlm_utils.confirm")}}</button>\n                <button @click="clickCancel" style="width: 48%; margin-left: 2%">{{tl("button.tlm_utils.cancel")}}</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {getTranslationKey, getTranslationResult, writeLanguageFile} from "../utils/language";\n    import {isEmpty} from "../utils/string";\n    import {join as pathJoin} from "path";\n    import {mkdirs} from "../utils/filesystem";\n\n    export default {\n        props: {\n            parent: {\n                type: Object,\n                required: true\n            }\n        },\n        data() {\n            return {\n                modelListInfo: {},\n                selectedIconPath: "",\n                randomIconSuffix: 0,    // used to clean img cache\n                isEditModelListInfo: false\n            };\n        },\n        methods: {\n            tl: tl,\n            reset: function () {\n                this.modelListInfo = {};\n                this.selectedIconPath = "";\n                this.isEditModelListInfo = false;\n            },\n            getIconPath: function (packInfo) {\n                if (this.selectedIconPath) {\n                    return this.selectedIconPath;\n                }\n                if (packInfo && packInfo.data && packInfo.data["icon"]) {\n                    let icon = packInfo.data["icon"].replace(":", "/");\n                    let iconPath = `${this.parent.assetsPath}/${icon}`;\n                    if (fs.existsSync(iconPath)) {\n                        return `${iconPath}?${this.randomIconSuffix}`;\n                    }\n                }\n            },\n            getPackName: function () {\n                let showInfo = this.parent.showInfo;\n                if (showInfo && showInfo.data && showInfo.data["pack_name"]) {\n                    let name = showInfo.data["pack_name"];\n                    return getTranslationResult(name, showInfo.lang);\n                }\n            },\n            getStringVersion: function () {\n                let showInfo = this.parent.showInfo;\n                if (showInfo && showInfo.version && showInfo.version.length >= 3) {\n                    let version = showInfo.version;\n                    return `${version[0]}.${version[1]}.${version[2]}`;\n                } else {\n                    return "1.0.0";\n                }\n            },\n            getDescription: function () {\n                let showInfo = this.parent.showInfo;\n                if (showInfo && showInfo.data && showInfo.data["description"]) {\n                    let output = [];\n                    for (let keyRaw of showInfo.data["description"]) {\n                        if (typeof keyRaw === "string") {\n                            output.push(getTranslationResult(keyRaw, showInfo.lang));\n                        }\n                    }\n                    if (output.length === 1) {\n                        return output[0];\n                    }\n                    if (output.length >= 1) {\n                        return output[0] + "...";\n                    }\n                }\n            },\n            clickEditInfo: function () {\n                if (!this.isEditModelListInfo) {\n                    this.isEditModelListInfo = true;\n                    this.modelListInfo = this.parent.showInfo;\n                    if (!this.modelListInfo.data["author"]) {\n                        this.modelListInfo.data["author"] = [];\n                    }\n                    if (!this.modelListInfo.data["description"]) {\n                        this.modelListInfo.data["description"] = [];\n                    }\n                }\n            },\n            openIconPath: function () {\n                let filePaths = electron.dialog.showOpenDialogSync(currentwindow, {\n                    properties: ["openFile"],\n                    title: tl("dialog.tlm_utils.create_new_pack.pack_icon.desc"),\n                    filters: [{name: "PNG", extensions: ["png"]}]\n                });\n                if (filePaths) {\n                    this.selectedIconPath = filePaths[0];\n                }\n            },\n            deleteAuthor: function (index) {\n                if (this.modelListInfo && this.modelListInfo.data && this.modelListInfo.data["author"]) {\n                    this.modelListInfo.data["author"].splice(index, 1);\n                    this.$forceUpdate();\n                }\n            },\n            addAuthor: function () {\n                if (this.modelListInfo && this.modelListInfo.data) {\n                    if (this.modelListInfo.data["author"] && this.modelListInfo.data["author"].length > 0) {\n                        this.modelListInfo.data["author"].push("");\n                    } else {\n                        this.modelListInfo.data["author"] = [""];\n                        this.$forceUpdate();\n                    }\n                }\n            },\n            clickConfirm: function () {\n                let namespacePath = `${this.parent.assetsPath}/${this.parent.openCategory}`;\n                let modelListFile = (this.parent.selected === "maid") ? `${namespacePath}/maid_model.json` : `${namespacePath}/maid_chair.json`;\n                if (this.selectedIconPath) {\n                    fs.writeFileSync(`${namespacePath}/textures/${this.parent.selected}_icon.png`, fs.readFileSync(this.selectedIconPath));\n                }\n                this.modelListInfo.data["icon"] = `${this.parent.openCategory}:textures/${this.parent.selected}_icon.png`;\n                this.modelListInfo.data["version"] = `${this.modelListInfo.version[0]}.${this.modelListInfo.version[1]}.${this.modelListInfo.version[2]}`;\n                if (this.modelListInfo.data["author"]) {\n                    for (let author of this.modelListInfo.data["author"]) {\n                        if (isEmpty(author)) {\n                            this.modelListInfo.data["author"].splice(this.modelListInfo.data["author"].indexOf(author));\n                        }\n                    }\n                    if (this.modelListInfo.data["author"].length < 1) {\n                        delete this.modelListInfo.data["author"];\n                    }\n                }\n                if (this.modelListInfo.data["description"]) {\n                    for (let desc of this.modelListInfo.data["description"]) {\n                        let key = getTranslationKey(desc);\n                        if (isEmpty(this.modelListInfo.lang[key])) {\n                            delete this.modelListInfo.lang[key];\n                            this.modelListInfo.data["description"].splice(this.modelListInfo.data["description"].indexOf(desc));\n                        }\n                    }\n                    if (this.modelListInfo.data["description"].length < 1) {\n                        delete this.modelListInfo.data["description"];\n                    }\n                }\n                fs.writeFileSync(modelListFile, autoStringify(this.modelListInfo.data));\n                writeLanguageFile("en_us", this.modelListInfo.langPath, this.modelListInfo.lang);\n                this.isEditModelListInfo = false;\n                this.selectedIconPath = "";\n                this.randomIconSuffix = Math.random();\n            },\n            clickCancel: function () {\n                this.isEditModelListInfo = false;\n                this.selectedIconPath = "";\n                this.parent.selected = this.parent.selected + " ";\n                this.parent.selected = this.parent.selected.trim();\n            },\n            deleteModelList: function () {\n                let index = electron.dialog.showMessageBoxSync(currentwindow, {\n                    title: tl("dialog.tlm_utils.load_pack.list.delete"),\n                    message: tl("dialog.tlm_utils.load_pack.list.delete.desc"),\n                    type: "warning",\n                    buttons: [tl("button.tlm_utils.confirm"), tl("button.tlm_utils.cancel")],\n                    defaultId: 1,\n                    cancelId: 1,\n                    noLink: true\n                });\n                if (index === 0) {\n                    let namespacePath = pathJoin(this.parent.assetsPath, this.parent.openCategory);\n                    let selected = this.parent.selected;\n                    let maidFile = pathJoin(namespacePath, "maid_model.json");\n                    let chairFile = pathJoin(namespacePath, "maid_chair.json");\n                    let hasMaidFile = fs.existsSync(maidFile);\n                    let hasChairFile = fs.existsSync(chairFile);\n                    if (hasMaidFile && hasChairFile) {\n                        let file = selected === "maid" ? maidFile : chairFile;\n                        let text = fs.readFileSync(file, "utf8");\n                        if (text.charCodeAt(0) === 0xFEFF) {\n                            text = text.substr(1);\n                        }\n                        let data = JSON.parse(text);\n\n                        let pathDelete = [];\n\n                        // delete icon\n                        if (data["icon"]) {\n                            let iconPath = pathJoin(this.parent.assetsPath, data["icon"].replace(":", "/"));\n                            if (fs.existsSync(iconPath)) {\n                                pathDelete.push(iconPath);\n                            }\n                        }\n\n                        // check all model\n                        let modelList = data["model_list"];\n                        if (modelList) {\n                            for (let model of modelList) {\n                                // check model id\n                                if (!model["model_id"]) {\n                                    continue;\n                                }\n                                // delete all model\n                                if (model["model"]) {\n                                    let modelPath = pathJoin(this.parent.assetsPath, model["model"].replace(":", "/"));\n                                    if (fs.existsSync(modelPath)) {\n                                        pathDelete.push(modelPath);\n                                    }\n                                } else {\n                                    let split = model["model_id"].split(":", 2);\n                                    let modelPath = pathJoin(this.parent.assetsPath, split[0], "models", "entity", split[1] + ".json");\n                                    if (fs.existsSync(modelPath)) {\n                                        pathDelete.push(modelPath);\n                                    }\n                                }\n                                // delete all texture\n                                if (model["texture"]) {\n                                    let texturePath = pathJoin(this.parent.assetsPath, model["texture"].replace(":", "/"));\n                                    if (fs.existsSync(texturePath)) {\n                                        pathDelete.push(texturePath);\n                                    }\n                                } else {\n                                    let split = model["model_id"].split(":", 2);\n                                    let texturePath = pathJoin(this.parent.assetsPath, split[0], "textures", "entity", split[1] + ".png");\n                                    if (fs.existsSync(texturePath)) {\n                                        pathDelete.push(texturePath);\n                                    }\n                                }\n                            }\n                        }\n\n                        for (let deleteFile of pathDelete) {\n                            electron.shell.trashItem(deleteFile).then(() => {\n                            });\n                        }\n                        electron.shell.trashItem(file).then(() => {\n                            this.parent.selected = selected === "maid" ? "chair" : "maid";\n                            this.parent.$children.forEach(value => value.$forceUpdate());\n                        });\n                    } else {\n                        electron.shell.trashItem(namespacePath).then(() => {\n                            mkdirs(namespacePath);\n                            mkdirs(`${namespacePath}/animation`);\n                            mkdirs(`${namespacePath}/lang`);\n                            mkdirs(`${namespacePath}/models/entity`);\n                            mkdirs(`${namespacePath}/textures/entity`);\n                            this.parent.selected += " ";\n                            this.parent.selected = this.parent.selected.trim();\n                            this.parent.$children.forEach(value => value.$forceUpdate());\n                        });\n                    }\n                }\n            }\n        },\n        computed: {\n            isEditListInfoButtonActive: function () {\n                return this.isEditModelListInfo;\n            },\n            packNameKey: function () {\n                if (this.modelListInfo && this.modelListInfo.data && this.modelListInfo.data["pack_name"]) {\n                    return getTranslationKey(this.modelListInfo.data["pack_name"]);\n                }\n            },\n            packDescKeys: function () {\n                if (this.modelListInfo && this.modelListInfo.data) {\n                    let output = [];\n                    if (this.modelListInfo.data["description"]) {\n                        for (let keyRaw of this.modelListInfo.data["description"]) {\n                            if (typeof keyRaw === "string") {\n                                output.push(getTranslationKey(keyRaw));\n                            }\n                        }\n                    }\n                    if (!output || output.length < 1) {\n                        let key = `${this.parent.selected}_pack.${this.parent.openCategory}.desc`;\n                        let keyRaw = `{${key}}`;\n                        this.modelListInfo.lang[key] = "";\n                        if (!this.modelListInfo.data["description"]) {\n                            this.modelListInfo.data["description"] = [];\n                        }\n                        this.modelListInfo.data["description"].push(keyRaw);\n                        output.push(key);\n                    }\n                    return output;\n                }\n            }\n        }\n    };\n<\/script>\n\n<style scoped>\n    .model-list-info {\n        background-color: #21252b;\n        padding: 10px;\n        margin-top: 10px\n    }\n\n    .model-list-text {\n        padding-left: 10px;\n        width: 77%\n    }\n\n    .model-list-info-icon {\n        width: 100px;\n        height: 100px;\n        border-style: solid;\n        border-width: 1px;\n        border-color: #17191d\n    }\n\n    .model-list-info-icon-img {\n        width: 100%;\n        height: 100%;\n        padding: 5px\n    }\n\n    .model-list-info-icon-no-img {\n        width: 100%;\n        height: 100%;\n        padding: 5px;\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .model-list-info-version {\n        font-size: small;\n        color: #848891;\n        margin-left: 5px;\n        background-color: #17191d;\n        border-radius: 2px;\n        padding: 0 5px\n    }\n\n    .model-list-info-other {\n        color: #848891;\n        font-size: small;\n        margin: 0;\n    }\n\n    .model-list-edit {\n        height: 100%;\n        width: 100%;\n        margin-top: 10px\n    }\n\n    .model-list-edit-main {\n        background-color: #21252b;\n        width: 100%;\n        height: 330px;\n        overflow-y: auto;\n        padding: 10px 20px\n    }\n\n    .model-list-edit-item-title {\n        margin: 0;\n        padding: 0;\n        font-size: large\n    }\n\n    .model-list-edit-item-desc {\n        margin: 0;\n        padding: 0;\n        color: #6a6a6d\n    }\n\n    .model-list-edit-icon {\n        min-width: 50px;\n        width: 125px;\n        height: 125px;\n        border-radius: 1px;\n        margin: 0;\n        padding: 0\n    }\n\n    .model-list-edit-name-input, .model-list-edit-desc-input {\n        border-radius: 1px;\n        margin-top: 5px;\n        padding: 5px;\n        width: 100%;\n        height: 30px;\n        font-size: 20px;\n        background-color: #1c2026;\n        border-style: solid;\n        border-width: 1px;\n        border-color: #181a1f;\n    }\n\n    .model-list-edit-date-input {\n        border-radius: 1px;\n        margin-top: 5px;\n        padding: 2px;\n        width: 125px;\n        height: 30px;\n        font-size: 13px;\n        background-color: #1c2026;\n        border-style: solid;\n        border-width: 1px;\n        border-color: #181a1f;\n    }\n\n    .model-list-edit-author-input {\n        border-radius: 1px;\n        margin-top: 5px;\n        padding: 2px;\n        width: 90px;\n        height: 30px;\n        font-size: 13px;\n        background-color: #1c2026;\n        border-style: solid;\n        border-width: 1px;\n        border-color: #181a1f;\n    }\n\n    .model-list-edit-author-delete {\n        width: 30px;\n        min-width: 30px;\n        height: 30px;\n        min-height: 30px;\n        margin: 5px 0 0 5px;\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .model-list-edit-delete {\n        min-width: 30px;\n        width: 30px;\n        margin-left: 10px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .inactive-edit-list-button {\n        background-color: #1c2026;\n        pointer-events: none;\n    }\n\n    .flex-edit-item {\n        display: flex;\n        align-items: center;\n        margin-top: 20px\n    }\n\n    .version-input {\n        display: flex;\n    }\n\n    .version-input > input {\n        border-radius: 1px;\n        margin-top: 5px;\n        padding: 2px;\n        width: 35px;\n        height: 30px;\n        font-size: 20px;\n        background-color: #1c2026;\n        border: #17191d 1px solid\n    }\n\n    .version-input > p {\n        font-weight: bold;\n        font-size: 20px;\n        margin: 10px 2px 2px;\n    }\n</style>']},media:void 0})}),__vue_script__$4,"data-v-04b602ee",false,undefined,!1,browser,void 0,void 0);var script$5={props:{parent:{type:Object,required:!0}},methods:{tl:tl,getLocalModelName:function(modelInfo){let name=modelInfo.name,local=this.parent.showInfo.local;if(!isEmpty(name))return getTranslationResult(name,local);{let modelId=modelInfo.model_id;if(!isEmpty(modelId)){let key=`model.${modelId.replace(":",".")}.name`;return!local||isEmpty(local[key])?key:local[key]}}},onUpdateSort:function(event){let info=this.parent.showInfo,modelList=info.data.model_list;modelList.splice(event.newIndex,0,modelList.splice(event.oldIndex,1)[0]);let modelListFile="maid"===info.type?`${info.namespacePath}/maid_model.json`:`${info.namespacePath}/maid_chair.json`,previousFile=fs.readFileSync(modelListFile,"utf8");65279===previousFile.charCodeAt(0)&&(previousFile=previousFile.substr(1));let previousData=JSON.parse(previousFile);previousData.model_list=modelList,fs.writeFileSync(modelListFile,autoStringify(previousData))},hasNormalEgg:function(modelInfo){return modelInfo.easter_egg&&!modelInfo.easter_egg.encrypt},hasEncryptEgg:function(modelInfo){return modelInfo.easter_egg&&modelInfo.easter_egg.encrypt}}};const __vue_script__$5=script$5;var __vue_render__$5=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"models-table-top"},[_c("button",{staticStyle:{width:"100%",height:"30px"}},[_c("i",{staticClass:"fas fa-plus-circle"}),_vm._v("\n            "+_vm._s(_vm.tl("dialog.tlm_utils.load_pack.detail.model_list.add"))+"\n        ")])]),_vm._v(" "),_c("ul",{directives:[{name:"sortable",rawName:"v-sortable",value:{onUpdate:_vm.onUpdateSort,handle:".handle"},expression:"{onUpdate: onUpdateSort, handle:'.handle'}"}],staticStyle:{"max-height":"550px","overflow-y":"auto","text-align":"center"}},_vm._l(_vm.parent.showInfo.data.model_list,(function(modelInfo){return _c("li",{key:modelInfo.model_id,staticClass:"model-item"},[_vm.hasNormalEgg(modelInfo)?_c("p",{staticClass:"egg",attrs:{title:_vm.tl("dialog.tlm_utils.load_pack.list.normal_egg")}},[_c("i",{staticClass:"fas fa-hashtag fa-fw"}),_vm._v("\n                "+_vm._s(modelInfo.easter_egg.tag)+"\n            ")]):_vm.hasEncryptEgg(modelInfo)?_c("p",{staticClass:"egg",attrs:{title:_vm.tl("dialog.tlm_utils.load_pack.list.encrypt_egg")}},[_c("i",{staticClass:"fas fa-asterisk fa-fw"}),_vm._v("\n                "+_vm._s(modelInfo.easter_egg.tag.substr(0,10)+"...")+"\n            ")]):_c("p",[_vm._v(_vm._s(_vm.getLocalModelName(modelInfo)))]),_vm._v(" "),_c("i",{staticClass:"fas fa-arrows-alt handle",attrs:{title:_vm.tl("dialog.tlm_utils.load_pack.list.sort.move")}})])})),0)])};__vue_render__$5._withStripped=!0;const __vue_component__$5=normalizeComponent_1({render:__vue_render__$5,staticRenderFns:[]},(function(inject){inject&&inject("data-v-a6a2c0ba_0",{source:"\n.models-table-top[data-v-a6a2c0ba] {\n    height: 32px;\n    margin-bottom: 8px;\n    margin-top: 0\n}\n.model-item[data-v-a6a2c0ba] {\n    display: flex;\n    width: 98%;\n    height: 30px;\n    margin: 1px;\n    background-color: #3a3f4b;\n    align-items: center;\n}\n.model-item[data-v-a6a2c0ba]:hover {\n    background-color: #3e90ff;\n    cursor: pointer;\n}\n.model-item > p[data-v-a6a2c0ba] {\n    width: 83%;\n    padding-left: 5%;\n    margin-right: 2%;\n    text-align: left;\n    font-size: small;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.handle[data-v-a6a2c0ba] {\n    width: 10%;\n    margin-right: 5%;\n    font-size: medium;\n}\n.handle[data-v-a6a2c0ba]:hover {\n    color: #ffffff;\n    cursor: grab;\n}\n.ghostClass[data-v-a6a2c0ba], .sortable-drag[data-v-a6a2c0ba], .sortable-chosen[data-v-a6a2c0ba] {\n    background-color: darkred;\n    cursor: grab;\n}\n.egg[data-v-a6a2c0ba] {\n    font-style: italic;\n    color: #92dcff;\n}\n",map:{version:3,sources:["/home/runner/work/TLM-Utils-Plugins/TLM-Utils-Plugins/src/load/model_list_table.vue"],names:[],mappings:";AA+EA;IACA,YAAA;IACA,kBAAA;IACA;AACA;AAEA;IACA,aAAA;IACA,UAAA;IACA,YAAA;IACA,WAAA;IACA,yBAAA;IACA,mBAAA;AACA;AAEA;IACA,yBAAA;IACA,eAAA;AACA;AAEA;IACA,UAAA;IACA,gBAAA;IACA,gBAAA;IACA,gBAAA;IACA,gBAAA;IACA,uBAAA;IACA,gBAAA;AACA;AAEA;IACA,UAAA;IACA,gBAAA;IACA,iBAAA;AACA;AAEA;IACA,cAAA;IACA,YAAA;AACA;AAEA;IACA,yBAAA;IACA,YAAA;AACA;AAEA;IACA,kBAAA;IACA,cAAA;AACA",file:"model_list_table.vue",sourcesContent:['<template>\n    <div>\n        <div class="models-table-top">\n            <button style="width: 100%; height: 30px">\n                <i class="fas fa-plus-circle"></i>\n                {{tl("dialog.tlm_utils.load_pack.detail.model_list.add")}}\n            </button>\n        </div>\n        <ul style="max-height: 550px; overflow-y: auto; text-align: center;" v-sortable="{onUpdate: onUpdateSort, handle:\'.handle\'}">\n            <li :key="modelInfo[\'model_id\']" class="model-item" v-for="modelInfo in parent.showInfo.data[\'model_list\']">\n                <p :title="tl(\'dialog.tlm_utils.load_pack.list.normal_egg\')" class="egg" v-if="hasNormalEgg(modelInfo)">\n                    <i class="fas fa-hashtag fa-fw"></i>\n                    {{modelInfo["easter_egg"]["tag"]}}\n                </p>\n                <p  :title="tl(\'dialog.tlm_utils.load_pack.list.encrypt_egg\')" class="egg" v-else-if="hasEncryptEgg(modelInfo)">\n                    <i class="fas fa-asterisk fa-fw"></i>\n                    {{modelInfo["easter_egg"]["tag"].substr(0,10)+"..."}}\n                </p>\n                <p v-else>{{getLocalModelName(modelInfo)}}</p>\n                <i :title="tl(\'dialog.tlm_utils.load_pack.list.sort.move\')" class="fas fa-arrows-alt handle"></i>\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script>\n    import {isEmpty} from "../utils/string";\n    import {getTranslationResult} from "../utils/language";\n\n    export default {\n        props: {\n            parent: {\n                type: Object,\n                required: true\n            }\n        },\n        methods: {\n            tl: tl,\n            getLocalModelName: function (modelInfo) {\n                let name = modelInfo["name"];\n                let local = this.parent.showInfo.local;\n                if (isEmpty(name)) {\n                    let modelId = modelInfo["model_id"];\n                    if (!isEmpty(modelId)) {\n                        let key = `model.${modelId.replace(":", ".")}.name`;\n                        if (!local || isEmpty(local[key])) {\n                            return key;\n                        }\n                        return local[key];\n                    }\n                } else {\n                    return getTranslationResult(name, local);\n                }\n            },\n            onUpdateSort: function (event) {\n                let info = this.parent.showInfo;\n                let modelList = info.data["model_list"];\n                modelList.splice(event.newIndex, 0, modelList.splice(event.oldIndex, 1)[0]);\n\n                let modelListFile = (info.type === "maid") ? `${info.namespacePath}/maid_model.json` : `${info.namespacePath}/maid_chair.json`;\n                let previousFile = fs.readFileSync(modelListFile, "utf8");\n                if (previousFile.charCodeAt(0) === 0xFEFF) {\n                    previousFile = previousFile.substr(1);\n                }\n                let previousData = JSON.parse(previousFile);\n                previousData["model_list"] = modelList;\n                fs.writeFileSync(modelListFile, autoStringify(previousData));\n            },\n            hasNormalEgg: function (modelInfo) {\n                return modelInfo["easter_egg"] && !modelInfo["easter_egg"]["encrypt"];\n            },\n            hasEncryptEgg: function (modelInfo) {\n                return modelInfo["easter_egg"] && modelInfo["easter_egg"]["encrypt"];\n            }\n        }\n    };\n<\/script>\n\n<style scoped>\n    .models-table-top {\n        height: 32px;\n        margin-bottom: 8px;\n        margin-top: 0\n    }\n\n    .model-item {\n        display: flex;\n        width: 98%;\n        height: 30px;\n        margin: 1px;\n        background-color: #3a3f4b;\n        align-items: center;\n    }\n\n    .model-item:hover {\n        background-color: #3e90ff;\n        cursor: pointer;\n    }\n\n    .model-item > p {\n        width: 83%;\n        padding-left: 5%;\n        margin-right: 2%;\n        text-align: left;\n        font-size: small;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n    .handle {\n        width: 10%;\n        margin-right: 5%;\n        font-size: medium;\n    }\n\n    .handle:hover {\n        color: #ffffff;\n        cursor: grab;\n    }\n\n    .ghostClass, .sortable-drag, .sortable-chosen {\n        background-color: darkred;\n        cursor: grab;\n    }\n\n    .egg {\n        font-style: italic;\n        color: #92dcff;\n    }\n</style>']},media:void 0})}),__vue_script__$5,"data-v-a6a2c0ba",false,undefined,!1,browser,void 0,void 0);var script$6={props:{assetsPath:{type:String,required:!0},namespaceMap:{type:Object,required:!0},packEditDialog:{type:Object,required:!0}},data(){return{openCategory:Object.keys(this.namespaceMap)[0],selected:"maid",newSubModelPack:!1}},components:{newSubModelPackFormVue:__vue_component__$2,modelListInfoVue:__vue_component__$4,topTypeButtonVue:__vue_component__$3,modelListTableVue:__vue_component__$5},methods:{reset:function(){let children=this.$children[1];children&&children.reset()},readInfo:function(type){let namespacePath=`${this.assetsPath}/${this.openCategory}`,modelListFile="maid"===type?`${namespacePath}/maid_model.json`:`${namespacePath}/maid_chair.json`;if(fs.existsSync(modelListFile)){let info=new class{constructor(){this.type="maid",this.namespace="",this.version=[],this.data={},this.lang={},this.local={},this.namespacePath="",this.texturesPath="",this.animationPath="",this.langPath="",this.modelsPath=""}},text=fs.readFileSync(modelListFile,"utf8");65279===text.charCodeAt(0)&&(text=text.substr(1)),info.data=JSON.parse(text);let version=info.data.version;return isEmpty(version)?(info.version=[1,0,0],info.data.version="1.0.0"):info.version=function(strVersion){let result=/^(\d+)\.(\d+)\.(\d+)$/.exec(strVersion);return result.length>=4?[result[1],result[2],result[3]]:[1,0,0]}(version),info.type=type,info.namespace=this.openCategory,info.namespacePath=namespacePath,info.animationPath=`${namespacePath}/animation`,info.langPath=`${namespacePath}/lang`,info.modelsPath=`${namespacePath}/models/entity`,info.texturesPath=`${namespacePath}/textures/entity`,info.lang=getPackLanguage(info.langPath,"en_us"),info.local=getPackLanguage(info.langPath),info}},hasModelListFile:function(type){let namespacePath=`${this.assetsPath}/${this.openCategory}`,modelListFile="maid"===type?`${namespacePath}/maid_model.json`:`${namespacePath}/maid_chair.json`;return fs.existsSync(modelListFile)}},computed:{showInfo:function(){return this.readInfo(this.selected)},isShowList:function(){return this.showInfo&&this.showInfo.data&&this.showInfo.data.model_list},categoryIsEmpty:function(){return isEmpty(this.openCategory)}}};const __vue_script__$6=script$6;var __vue_render__$6=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.newSubModelPack?_c("div",[_c("newSubModelPackFormVue",{attrs:{parent:this}})],1):_vm.categoryIsEmpty?_vm._e():_c("div",{staticStyle:{display:"flex"}},[_c("div",{staticStyle:{width:"70%"}},[_c("topTypeButtonVue",{attrs:{parent:this}}),_vm._v(" "),_vm.isShowList?_c("modelListInfoVue",{attrs:{parent:this}}):_vm._e()],1),_vm._v(" "),_c("div",{staticStyle:{width:"30%","padding-left":"10px"}},[_vm.isShowList?_c("modelListTableVue",{attrs:{parent:this}}):_vm._e()],1)])])};__vue_render__$6._withStripped=!0;const __vue_component__$6=normalizeComponent_1({render:__vue_render__$6,staticRenderFns:[]},(function(inject){inject&&inject("data-v-6805b6e7_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"load_pack_main.vue"},media:void 0})}),__vue_script__$6,"data-v-6805b6e7",false,undefined,!1,browser,void 0,void 0);var loadPackAction=new Action("tlm_utils.load_pack",{name:"menu.tlm_utils.load_pack",icon:"unarchive",click:function(){let filePaths=electron.dialog.showOpenDialogSync(currentwindow,{title:tl("dialog.tlm_utils.load_pack.title"),properties:["openDirectory"]});if(!filePaths)return;let path$1=filePaths[0];if(!path$1||path$1.length<1)return;let data=function(path){if(!function(path){let mcmetaPath=`${path}/pack.mcmeta`;if(!fs.existsSync(mcmetaPath))return Blockbench.showMessageBox({title:"message.tlm_utils.prompt",message:"dialog.tlm_utils.load_pack.warn.pack_mcmeta_not_file",icon:"warning"},(function(result){})),!1;if(!fs.statSync(mcmetaPath).isFile())return Blockbench.showMessageBox({title:"message.tlm_utils.prompt",message:"dialog.tlm_utils.load_pack.warn.pack_mcmeta_not_file",icon:"warning"},(function(result){})),!1;return!0}(path)||!function(path){let assetsPath=`${path}/assets`;if(!fs.existsSync(assetsPath))return Blockbench.showMessageBox({title:"message.tlm_utils.prompt",message:"dialog.tlm_utils.load_pack.warn.assets_not_exist",icon:"warning"},(function(result){})),!1;if(!fs.statSync(assetsPath).isDirectory())return Blockbench.showMessageBox({title:"message.tlm_utils.prompt",message:"dialog.tlm_utils.load_pack.warn.assets_not_folder",icon:"warning"},(function(result){})),!1;return!0}(path))return;let assetsPath=`${path}/assets`,assetsFolder=fs.readdirSync(assetsPath),namespaceMap={};for(let subFolder of assetsFolder){fs.statSync(`${assetsPath}/${subFolder}`).isDirectory()&&(namespaceMap[subFolder]=subFolder)}if(0===namespaceMap.length)return void Blockbench.showMessageBox({title:"message.tlm_utils.prompt",message:"dialog.tlm_utils.load_pack.warn.namespace_not_exist",icon:"warning"},(function(result){}));return{assetsPath:assetsPath,namespaceMap:namespaceMap}}(path$1);if(!data)return;let namespaceMap=data.namespaceMap,assetsPath=data.assetsPath,packEditDialog=new Dialog({title:"dialog.tlm_utils.load_pack.detail",width:1280,singleButton:!0,sidebar:{pages:namespaceMap,page:Object.keys(namespaceMap)[0],actions:[new Action("tlm_utils.load_pack.open_folder",{name:"menu.tlm_utils.load_pack.open_folder",icon:"fa-folder-open",click:function(){if(isEmpty(packEditDialog.sidebar.page))return;let openPath=path.join(assetsPath,packEditDialog.sidebar.page);electron.shell.openPath(openPath).then((result=>{}))}}),new Action("tlm_utils.load_pack.new",{name:"menu.tlm_utils.load_pack.new",icon:"fa-folder-plus",click:function(){packEditDialog.sidebar.setPage(""),packEditDialog.content_vue.$children[0].newSubModelPack=!0}}),new Action("tlm_utils.load_pack.delete",{name:"menu.tlm_utils.load_pack.delete",icon:"fa-trash-alt",click:function(){if(isEmpty(packEditDialog.sidebar.page))return;let index=electron.dialog.showMessageBoxSync(currentwindow,{title:tl("menu.tlm_utils.load_pack.delete"),message:tl("dialog.tlm_utils.load_pack.delete.desc"),detail:tl("dialog.tlm_utils.load_pack.delete.tip"),type:"warning",buttons:[tl("button.tlm_utils.confirm"),tl("button.tlm_utils.cancel")],defaultId:1,cancelId:1,noLink:!0}),page=packEditDialog.sidebar.page,pages=packEditDialog.sidebar.pages;if(0===index&&page in pages){let delPath=path.join(assetsPath,page);electron.shell.trashItem(delPath).then((()=>{delete pages[page];let pageKeys=Object.keys(pages);pages&&pageKeys.length>0?packEditDialog.sidebar.setPage(pageKeys[0]):packEditDialog.sidebar.setPage(""),packEditDialog.sidebar.build()}))}}})],onPageSwitch(page){let child=packEditDialog.content_vue.$children[0];if(child.openCategory!==page){if(child.openCategory=page,child.newSubModelPack=!1,child.reset(),child.hasModelListFile("maid"))return void(child.selected="maid");child.hasModelListFile("chair")&&(child.selected="chair")}}},component:{data:()=>({assetsPath:assetsPath,namespaceMap:namespaceMap,packEditDialog:packEditDialog}),components:{loadPackMainVue:__vue_component__$6},template:"<loadPackMainVue :assetsPath='assetsPath' :namespaceMap='namespaceMap' :packEditDialog='packEditDialog'/>"}});packEditDialog.show()}});Plugin.register(TLM_name,{title:tl("info.tlm_utils.title"),author:TLM_author,description:tl("info.tlm_utils.description"),icon:"card_membership",version:TLM_version,variant:"desktop",min_version:"4.0.0",onload(){console.log("Language file loaded!"),new BarMenu("tlm_utils",["tlm_utils.create_new_model","_","tlm_utils.create_new_pack","tlm_utils.load_pack"]),MenuBar.update()},onunload(){delete MenuBar.menues.tlm_utils,MenuBar.update(),createDefaultAction.delete(),createNewPackAction.delete(),loadPackAction.delete()}});
